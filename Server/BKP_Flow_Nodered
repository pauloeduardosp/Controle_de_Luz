[
    {
        "id": "c9c1b3c7a5616223",
        "type": "tab",
        "label": "Fluxo 1",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "5ba4b54a3f066a44",
        "type": "tab",
        "label": "Apartamento",
        "disabled": false,
        "info": ""
    },
    {
        "id": "e1e77b44450f1dd2",
        "type": "tab",
        "label": "Flow 2",
        "disabled": false,
        "info": ""
    },
    {
        "id": "5aa2e463c314c682",
        "type": "tab",
        "label": "Automação",
        "disabled": false,
        "info": ""
    },
    {
        "id": "be470d6210457a9f",
        "type": "tab",
        "label": "Status",
        "disabled": false,
        "info": ""
    },
    {
        "id": "97567b6a1a314f9d",
        "type": "tab",
        "label": "Previsao",
        "disabled": false,
        "info": ""
    },
    {
        "id": "02232f44af3dd0a9",
        "type": "tab",
        "label": "teste",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1a43f8e8e0dc6e41",
        "type": "tab",
        "label": "teste_gradico",
        "disabled": false,
        "info": ""
    },
    {
        "id": "a7f464e9ddea0767",
        "type": "tab",
        "label": "DashBoard",
        "disabled": false,
        "info": ""
    },
    {
        "id": "e4e205d244e90189",
        "type": "tab",
        "label": "Grafico",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b2ecce1dde5c9179",
        "type": "group",
        "z": "5aa2e463c314c682",
        "name": "Turn Off luz corredor - amanhacer",
        "style": {
            "fill": "#e3f3d3",
            "label": true,
            "color": "#001f60"
        },
        "nodes": [
            "990b916c899d5bfd",
            "6f75674b4bbbe202",
            "3bf400358b9cf137",
            "0bca8e77681fac0a",
            "c555c5cd7b1c0448",
            "e478769d467697e7"
        ],
        "x": 24,
        "y": 39,
        "w": 782,
        "h": 162
    },
    {
        "id": "36e3bb5a0900f381",
        "type": "group",
        "z": "5aa2e463c314c682",
        "name": "Teste Google Home - comando voz",
        "style": {
            "label": true
        },
        "nodes": [
            "d72a17ea060f4ad9",
            "f5ac8db6d7913fc9",
            "28416886c85aed06",
            "7a3313a228138e33",
            "9872dfcbe9dd5070"
        ],
        "x": 54,
        "y": 439,
        "w": 612,
        "h": 182
    },
    {
        "id": "25167bbc.e1295c",
        "type": "mqtt-broker",
        "name": "localhost",
        "broker": "localhost",
        "port": "1883",
        "clientid": "node-red",
        "usetls": false,
        "compatmode": false,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "ad0e3b2ee7896c72",
        "type": "mqtt-broker",
        "name": "",
        "broker": "localhost",
        "port": "1883",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "compatmode": false,
        "protocolVersion": 4,
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "f7bb55729f549b58",
        "type": "mui_base",
        "theme": {
            "name": "theme-light",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "m-base-color": {
                    "default": "#0094CE",
                    "value": "#0094CE",
                    "edited": false
                },
                "m-page-titlebar-backgroundColor": {
                    "value": "#0094CE",
                    "edited": false
                },
                "m-page-backgroundColor": {
                    "value": "#fafafa",
                    "edited": false
                },
                "m-page-sidebar-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "m-group-textColor": {
                    "value": "#1bbfff",
                    "edited": false
                },
                "m-group-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "m-group-backgroundColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "m-widget-textColor": {
                    "value": "#111111",
                    "edited": false
                },
                "m-widget-backgroundColor": {
                    "value": "#0094ce",
                    "edited": false
                },
                "m-widget-borderColor": {
                    "value": "#ffffff",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "32b4f5d57b97ee5e",
        "type": "ui_base",
        "theme": {
            "name": "theme-dark",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
            },
            "themeState": {
                "base-color": {
                    "default": "#097479",
                    "value": "#097479",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#0eb8c0",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#097479",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Node-RED Dashboard",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "false",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "510e1d1a.eac40c",
        "type": "ui_tab",
        "name": "Apartamento",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "85f19b17a7dd39ef",
        "type": "ui_tab",
        "name": "Status",
        "icon": "dashboard",
        "order": 3
    },
    {
        "id": "9555516069ab6d7d",
        "type": "ui_tab",
        "name": "Gauge",
        "icon": "dashboard",
        "order": 5
    },
    {
        "id": "7974b665975466d3",
        "type": "ui_tab",
        "name": "Celular",
        "icon": "dashboard",
        "order": 2
    },
    {
        "id": "d465e2d3e67fc208",
        "type": "ui_tab",
        "name": "Gauge2",
        "icon": "dashboard",
        "disabled": false,
        "hidden": false
    },
    {
        "id": "79af2d0ecc88699a",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "606728ffca968749",
        "order": 14,
        "width": "",
        "height": ""
    },
    {
        "id": "7a2f1cf4f7ebfe21",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "606728ffca968749",
        "order": 17,
        "width": "",
        "height": ""
    },
    {
        "id": "ed30fcc12bda2f36",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "606728ffca968749",
        "order": 11,
        "width": "",
        "height": ""
    },
    {
        "id": "47df88eb7eddeccb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "606728ffca968749",
        "order": 19,
        "width": "",
        "height": ""
    },
    {
        "id": "23dfb365dc16dc75",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f08db2f85f4c80f1",
        "order": 3,
        "width": "",
        "height": ""
    },
    {
        "id": "f4c3f3d903fad8e1",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f08db2f85f4c80f1",
        "order": 5,
        "width": "",
        "height": ""
    },
    {
        "id": "3923141e15f2b7bb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f08db2f85f4c80f1",
        "order": 7,
        "width": "",
        "height": ""
    },
    {
        "id": "0e12b84642e3aebb",
        "type": "ui_spacer",
        "name": "spacer",
        "group": "f21b56b6783c0b27",
        "order": 6,
        "width": "",
        "height": ""
    },
    {
        "id": "7ac0c575.b52f2c",
        "type": "ui_group",
        "name": "Sala",
        "tab": "510e1d1a.eac40c",
        "order": 2,
        "disp": true,
        "width": "4",
        "collapse": false
    },
    {
        "id": "f21b56b6783c0b27",
        "type": "ui_group",
        "name": "Quarto",
        "tab": "510e1d1a.eac40c",
        "order": 1,
        "disp": false,
        "width": "4",
        "collapse": false
    },
    {
        "id": "10e9d6415a376d79",
        "type": "ui_group",
        "name": "Status",
        "tab": "85f19b17a7dd39ef",
        "order": 4,
        "disp": true,
        "width": "4",
        "collapse": false
    },
    {
        "id": "5f61f5e7481d3864",
        "type": "ui_group",
        "name": "G1",
        "tab": "85f19b17a7dd39ef",
        "order": 1,
        "disp": false,
        "width": "4",
        "collapse": false
    },
    {
        "id": "d3133e84b2df0f0a",
        "type": "ui_group",
        "name": "G2",
        "tab": "85f19b17a7dd39ef",
        "order": 2,
        "disp": false,
        "width": "4",
        "collapse": false
    },
    {
        "id": "c5ede3b960b4a656",
        "type": "ui_group",
        "name": "G3",
        "tab": "85f19b17a7dd39ef",
        "order": 3,
        "disp": false,
        "width": "4",
        "collapse": false
    },
    {
        "id": "052ea0e19df0f38c",
        "type": "ui_group",
        "name": "Proto",
        "tab": "510e1d1a.eac40c",
        "order": 4,
        "disp": true,
        "width": "4",
        "collapse": false
    },
    {
        "id": "a9a8b0bfa16db8f2",
        "type": "ui_group",
        "name": "Varanda",
        "tab": "510e1d1a.eac40c",
        "order": 5,
        "disp": true,
        "width": "4",
        "collapse": false
    },
    {
        "id": "606728ffca968749",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "7974b665975466d3",
        "order": 2,
        "disp": false,
        "width": "6",
        "collapse": false
    },
    {
        "id": "71be18c61d6624e4",
        "type": "ui_group",
        "name": "Clima",
        "tab": "510e1d1a.eac40c",
        "order": 7,
        "disp": true,
        "width": "4",
        "collapse": false
    },
    {
        "id": "d5ef06dc532029af",
        "type": "ui_group",
        "name": "Group 2",
        "tab": "7974b665975466d3",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "d273881103bce6d9",
        "type": "ui_group",
        "name": "Quarto M",
        "tab": "510e1d1a.eac40c",
        "order": 3,
        "disp": true,
        "width": "4",
        "collapse": false
    },
    {
        "id": "f08db2f85f4c80f1",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "d465e2d3e67fc208",
        "order": 1,
        "disp": true,
        "width": "8",
        "collapse": false
    },
    {
        "id": "83f6e9aef0f55d04",
        "type": "ui_group",
        "name": "Group",
        "tab": "9555516069ab6d7d",
        "order": 1,
        "disp": false,
        "width": "10",
        "collapse": false
    },
    {
        "id": "9d8af240.e05a3",
        "type": "google-home-conf",
        "d": true,
        "username": "pauloeduardo.sp"
    },
    {
        "id": "14d62745cf2a98d6",
        "type": "google-home-conf",
        "username": "hardillb"
    },
    {
        "id": "5358259625d92c22",
        "type": "google-home-conf",
        "username": "hardillb"
    },
    {
        "id": "f303a3fc5e3847e2",
        "type": "MySQLdatabase",
        "d": true,
        "name": "",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "iotpaulo",
        "tz": "GMT-3"
    },
    {
        "id": "1da3829898f3f838",
        "type": "MySQLdatabase",
        "d": true,
        "name": "",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "nodered",
        "tz": ""
    },
    {
        "id": "6bcbf71f36c0a959",
        "type": "ui_tab",
        "name": "Grafico_Temperatura",
        "icon": "dashboard",
        "order": 6,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "70469c61fe7f7afb",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "6bcbf71f36c0a959",
        "order": 1,
        "disp": true,
        "width": 6
    },
    {
        "id": "f8828d4217505324",
        "type": "inject",
        "z": "c9c1b3c7a5616223",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 220,
        "y": 120,
        "wires": [
            [
                "7f848d69877c4840"
            ]
        ]
    },
    {
        "id": "7f848d69877c4840",
        "type": "debug",
        "z": "c9c1b3c7a5616223",
        "name": "debug 1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 480,
        "y": 120,
        "wires": []
    },
    {
        "id": "76aaaa91261539ae",
        "type": "mqtt in",
        "z": "5ba4b54a3f066a44",
        "name": "ape/quarto/luz",
        "topic": "ape/quarto/luz",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 173.97244262695312,
        "y": 361.44451904296875,
        "wires": [
            [
                "6a3833c5fe5d2805",
                "b5a49eac7ebc758e",
                "17aad96d035c7402",
                "d14151c5bb585b32"
            ]
        ]
    },
    {
        "id": "933a176e2c09bfae",
        "type": "mqtt out",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "25167bbc.e1295c",
        "x": 930,
        "y": 180,
        "wires": []
    },
    {
        "id": "1132df1131f8e0ea",
        "type": "change",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "disconnect",
                "fromt": "str",
                "to": "disconnect",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "on",
                "fromt": "str",
                "to": "Ligado",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "off",
                "fromt": "str",
                "to": "Desligado",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 640,
        "y": 500,
        "wires": [
            [
                "57abe386d212abdb",
                "669446a98a408ab4"
            ]
        ]
    },
    {
        "id": "f90e1627c71286ba",
        "type": "mqtt in",
        "z": "5ba4b54a3f066a44",
        "name": "ape/quarto",
        "topic": "ape/quarto",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 146.02792358398438,
        "y": 280.08343505859375,
        "wires": [
            [
                "7c0a8f93938c58b6",
                "17aad96d035c7402"
            ]
        ]
    },
    {
        "id": "6a3833c5fe5d2805",
        "type": "switch",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "disconnect",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "disconnect",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 530,
        "y": 440,
        "wires": [
            [
                "57abe386d212abdb",
                "669446a98a408ab4"
            ],
            [
                "1132df1131f8e0ea"
            ]
        ]
    },
    {
        "id": "04a074815098ad3c",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar",
        "info": "",
        "x": 182.30563354492188,
        "y": 227.0833740234375,
        "wires": []
    },
    {
        "id": "a95ff07b331538c3",
        "type": "mqtt in",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "ape/varanda/luz",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 260,
        "y": 1360,
        "wires": [
            [
                "0002625091034064",
                "8ffd7036885be69d",
                "5be1f573b367417c"
            ]
        ]
    },
    {
        "id": "95f5317ddfd14549",
        "type": "mqtt out",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "25167bbc.e1295c",
        "x": 990,
        "y": 1320,
        "wires": []
    },
    {
        "id": "7832678e37abb785",
        "type": "change",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "on",
                "fromt": "str",
                "to": "Ligado",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "off",
                "fromt": "str",
                "to": "Desligado",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "disconnect",
                "fromt": "str",
                "to": "Disconectado",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 667.6983947753906,
        "y": 1481.3053894042969,
        "wires": [
            [
                "a6a63242ad762e26",
                "4f3d2866d1be49dc"
            ]
        ]
    },
    {
        "id": "1ae350e5f444e478",
        "type": "mqtt in",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "ape/varanda",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 261.0554656982422,
        "y": 1296.6389465332031,
        "wires": [
            [
                "d2bbcec5bbd28fd3",
                "5be1f573b367417c"
            ]
        ]
    },
    {
        "id": "02967c011859e93b",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar group",
        "info": "Alterar group dashboard\n",
        "x": 815.5832824707031,
        "y": 1402.9446716308594,
        "wires": []
    },
    {
        "id": "91b5f9ed11bf2368",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar topic",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 735.0776672363281,
        "y": 1307.6167602539062,
        "wires": []
    },
    {
        "id": "11af0527b6945c2e",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar topic",
        "info": "locationid/deviceid\nape/teste\n\nlocationid/deviceid/mqttAtuadorId\nape/teste/luz1",
        "x": 259.2999267578125,
        "y": 1262.061279296875,
        "wires": []
    },
    {
        "id": "0002625091034064",
        "type": "switch",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "disconnect",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "disconnect",
                "vt": "str"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 2,
        "x": 530,
        "y": 1420,
        "wires": [
            [
                "a6a63242ad762e26",
                "4f3d2866d1be49dc"
            ],
            [
                "7832678e37abb785"
            ]
        ]
    },
    {
        "id": "b5a49eac7ebc758e",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 270,
        "y": 420,
        "wires": []
    },
    {
        "id": "7c0a8f93938c58b6",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 353.20001220703125,
        "y": 199.1999969482422,
        "wires": []
    },
    {
        "id": "8ffd7036885be69d",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 423.9221954345703,
        "y": 1481.9444427490234,
        "wires": []
    },
    {
        "id": "d2bbcec5bbd28fd3",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 437.6222229003906,
        "y": 1258.344482421875,
        "wires": []
    },
    {
        "id": "8d8eb7c1b7a60714",
        "type": "mqtt in",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "ape/quarto/dht",
        "qos": "1",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 246.9222412109375,
        "y": 2222.64453125,
        "wires": [
            [
                "567efb3eda3fbaa9",
                "c9ad132f171fc92e"
            ]
        ]
    },
    {
        "id": "567efb3eda3fbaa9",
        "type": "json",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 464.8055725097656,
        "y": 2226.5277709960938,
        "wires": [
            [
                "b5d7ecb102ad416d",
                "f93e36aa004b7e05"
            ]
        ]
    },
    {
        "id": "b5d7ecb102ad416d",
        "type": "function",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "func": "var topico = \"quarto\"     // editar para outro comodo - usado para o grafico\n\nvar msgU;\nvar msgT;\nvar dateNow = new Date();\n msg.enabled = false;\nif(msg.payload === \"input\") {\n\n    dif_date = (dateNow - context.get('c_time'))/1000/60\n\n\n    if(dif_date >= 6.20){\n\n        msgU = { payload: '-', topic: topico};\n        msgT = { payload: '-', topic: topico};\n    }\n    \n} else {\n\n\nu = msg.payload.u\n    if(msg.payload.u === \"0.00\" && msg.payload.t === \"0.00\"){\n        msgU = { payload: '-', topic: topico};\n        msgT = { payload: '-', topic: topico};\n    } else {\n        msgU = { payload: msg.payload.u, topic: topico};\n        msgT = { payload: msg.payload.t, topic: topico};\n    }\n    context.set(\"c_time\", dateNow)\n\n}\n\nreturn [msgU, msgT]\n",
        "outputs": 2,
        "noerr": 0,
        "x": 646.8055419921875,
        "y": 2233.5277709960938,
        "wires": [
            [
                "09aafac8c2e375cb"
            ],
            [
                "2c5e370db92f6742",
                "1fd9ad0481dc0c53",
                "507431d9184dc5a4"
            ]
        ]
    },
    {
        "id": "46860e64a533cd83",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "View Celular",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 627.3055419921875,
        "y": 755.6278533935547,
        "wires": []
    },
    {
        "id": "a09f3e7c9cfc02da",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "View Celular",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 908.3055114746094,
        "y": 1474.8278503417969,
        "wires": []
    },
    {
        "id": "a4d0cc59e191478c",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "View Celular",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 1044.4222412109375,
        "y": 2250.14453125,
        "wires": []
    },
    {
        "id": "4304995cd3469645",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "View Celular",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 710,
        "y": 40,
        "wires": []
    },
    {
        "id": "756830a0f1b2181b",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "View Celular",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 930,
        "y": 460,
        "wires": []
    },
    {
        "id": "1fc32cf7e7e871e3",
        "type": "mqtt in",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "ape/teste/luz",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 160.83334350585938,
        "y": 937.4834594726562,
        "wires": [
            [
                "f92f560a4eda17b2",
                "87dc0f0bb0d39fc0",
                "8f45f887045443de"
            ]
        ]
    },
    {
        "id": "8514caddc23ee00d",
        "type": "mqtt out",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "25167bbc.e1295c",
        "x": 800.0830078125,
        "y": 884.9557495117188,
        "wires": []
    },
    {
        "id": "ee793b6ff38dd1ad",
        "type": "mqtt in",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "ape/teste",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 157.8887939453125,
        "y": 874.122314453125,
        "wires": [
            [
                "a6ae5f23b7b1b572",
                "87dc0f0bb0d39fc0"
            ]
        ]
    },
    {
        "id": "495798686b1a9fe9",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar group",
        "info": "Alterar group dashboard\n",
        "x": 749.4166259765625,
        "y": 957.4281005859375,
        "wires": []
    },
    {
        "id": "9901287abc18c1c6",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar topic",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 645.9110107421875,
        "y": 850.1001586914062,
        "wires": []
    },
    {
        "id": "5ca1772a6eaf7ed7",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar topic",
        "info": "locationid/deviceid\nape/teste\n\nlocationid/deviceid/mqttAtuadorId\nape/teste/luz1",
        "x": 234.1576690673828,
        "y": 817.9381713867188,
        "wires": []
    },
    {
        "id": "f92f560a4eda17b2",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 344.4222412109375,
        "y": 1077.14453125,
        "wires": []
    },
    {
        "id": "aa433b7ad5ec9ee8",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "View Celular",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 704.3055419921875,
        "y": 1035.8278198242188,
        "wires": []
    },
    {
        "id": "31c5294508c3189c",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "View Celular",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 731.3055114746094,
        "y": 1238.2278747558594,
        "wires": []
    },
    {
        "id": "bbf07e771cfc0954",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar topic",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 735.1053466796875,
        "y": 137.63330078125,
        "wires": []
    },
    {
        "id": "a6ae5f23b7b1b572",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 422.4222412109375,
        "y": 812.14453125,
        "wires": []
    },
    {
        "id": "c9ad132f171fc92e",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 324.4222412109375,
        "y": 2297.14453125,
        "wires": []
    },
    {
        "id": "29dbcd321e907bad",
        "type": "inject",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"u\":\"62.00\",\"t\":\"27.60\"}",
        "payloadType": "str",
        "x": 231.4222412109375,
        "y": 2118.64453125,
        "wires": [
            [
                "567efb3eda3fbaa9"
            ]
        ]
    },
    {
        "id": "9ca2a043cdad4424",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar topico",
        "info": "Alterar variavel topico\n",
        "x": 644.9222412109375,
        "y": 2197.64453125,
        "wires": []
    },
    {
        "id": "f8d097c36626419b",
        "type": "inject",
        "z": "5ba4b54a3f066a44",
        "name": "input 5 min",
        "repeat": "300",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "input",
        "payloadType": "str",
        "x": 141,
        "y": 59,
        "wires": [
            [
                "72b18145fb3bcc07"
            ]
        ]
    },
    {
        "id": "72b18145fb3bcc07",
        "type": "link out",
        "z": "5ba4b54a3f066a44",
        "name": "input 5 min",
        "links": [
            "e58098823f88d2c6",
            "e0c306529155be41",
            "3da33011c23c6c38",
            "b239082549748740",
            "bcc5b5b43ef1a5e8",
            "cd7147d5dd49688d",
            "c38f15713badd1f9",
            "0c53f662c83b8832",
            "f24a8024be5ed4b2"
        ],
        "x": 330,
        "y": 60,
        "wires": [],
        "l": true
    },
    {
        "id": "e58098823f88d2c6",
        "type": "link in",
        "z": "5ba4b54a3f066a44",
        "name": "input 5 min",
        "links": [
            "72b18145fb3bcc07"
        ],
        "x": 231.1722412109375,
        "y": 744.89453125,
        "wires": [
            []
        ],
        "l": true,
        "info": "5 min\n"
    },
    {
        "id": "e0c306529155be41",
        "type": "link in",
        "z": "5ba4b54a3f066a44",
        "name": "input 5 min",
        "links": [
            "72b18145fb3bcc07"
        ],
        "x": 249.1722412109375,
        "y": 1205.89453125,
        "wires": [
            [
                "5be1f573b367417c"
            ]
        ],
        "l": true,
        "info": "5 min\n"
    },
    {
        "id": "3da33011c23c6c38",
        "type": "link in",
        "z": "5ba4b54a3f066a44",
        "name": "input 5 min",
        "links": [
            "72b18145fb3bcc07"
        ],
        "x": 475.6722412109375,
        "y": 2164.39453125,
        "wires": [
            [
                "b5d7ecb102ad416d"
            ]
        ],
        "l": true,
        "info": "5 min\n"
    },
    {
        "id": "87dc0f0bb0d39fc0",
        "type": "function",
        "z": "5ba4b54a3f066a44",
        "name": "Enable/Disable new",
        "func": "var msg1 = msg\nvar msg2\nvar dateNow = new Date();\nenvia_pushover = context.get('c_envia_pushover')\nvar old_time = context.get('c_time') || 0\n\nif(msg.payload === \"input\") {\n\n    dif_date = (dateNow - old_time)/1000/60\n    if(context.get('c_envia_pushover') === \"sim\"){\n        if(dif_date >= 6.20){\n            msg2 = { payload:\"disconected\"};\n            context.set(\"c_envia_pushover\", \"não\")\n        }\n    }\n\n    return [null, msg2]\n    \n} else {\n\n    if(msg.payload === \"on\"){\n        msg.payload = \"Ligado\"\n        msg.enabled = true\n    } else {\n        if(msg.payload === \"off\"){\n            msg.payload = \"Desligado\"\n            msg.enabled = true\n        } else {\n            if(msg.payload === \"disconnect\"){\n                msg.payload = \"Disconectado\"\n                msg.enabled = false\n                context.set(\"c_time\", dateNow)\n                context.set(\"c_envia_pushover\", \"sim\")\n            }\n            \n        }\n    }\n}\n\nreturn [msg1, null]\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 420,
        "y": 900,
        "wires": [
            [
                "02090dde7dbfbc6b",
                "f190b115b0fc93f4",
                "8189d3a893d42715",
                "8c33920b3ef56627"
            ],
            []
        ]
    },
    {
        "id": "17aad96d035c7402",
        "type": "function",
        "z": "5ba4b54a3f066a44",
        "name": "Enable/Disable new",
        "func": "var msg1 = msg\nvar msg2\nvar dateNow = new Date();\nvar old_time = context.get('c_time') || 0\n\n  \n\n\nif(msg.payload === \"input\") {\n\n    dif_date = (dateNow - old_time)/1000/60\n    if(context.get('c_envia_pushover') === \"sim\"){\n        if(dif_date >= 6.20){\n            msg2 = { payload:\"disconected\"};\n            context.set(\"c_envia_pushover\", \"não\")\n        }\n    }\n\n    return [null, msg2]\n    \n} else {\n\n    if(msg.payload === \"on\"){\n        msg.payload = \"Ligado\"\n        msg.enabled = true\n        global.set(\"g_luz_quarto\", \"on\")\n\n    } else {\n        if(msg.payload === \"off\"){\n            msg.payload = \"Desligado\"\n            msg.enabled = true\n            global.set(\"g_luz_quarto\", \"off\")\n            \n        } else {\n            if(msg.payload === \"disconnect\"){\n                msg.payload = \"Disconectado\"\n                msg.enabled = false\n                context.set(\"c_time\", dateNow)\n                context.set(\"c_envia_pushover\", \"sim\")\n                global.set(\"g_luz_quarto\", \"Desconectado\")\n            }\n            \n        }\n    }\n}\n\nreturn [msg1, null]\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 409.75,
        "y": 285.75,
        "wires": [
            [
                "9d38c56cec2a65a1",
                "4c782d7f505e9489",
                "57abe386d212abdb",
                "669446a98a408ab4"
            ],
            []
        ]
    },
    {
        "id": "b239082549748740",
        "type": "link in",
        "z": "5ba4b54a3f066a44",
        "name": "input 5 min",
        "links": [
            "72b18145fb3bcc07"
        ],
        "x": 143.75,
        "y": 183.75,
        "wires": [
            [
                "17aad96d035c7402"
            ]
        ],
        "l": true,
        "info": "5 min\n"
    },
    {
        "id": "a95e64096f0bd473",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar group",
        "info": "Alterar group dashboard\n",
        "x": 790,
        "y": 400,
        "wires": []
    },
    {
        "id": "39270e121e58583a",
        "type": "mqtt in",
        "z": "5ba4b54a3f066a44",
        "name": "ape/corredor/luz",
        "topic": "ape/corredor/luz",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 180,
        "y": 2960,
        "wires": [
            [
                "5174f937ef74b310",
                "9b2c211f313404b5"
            ]
        ]
    },
    {
        "id": "c7ae0561f5b210eb",
        "type": "mqtt out",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "25167bbc.e1295c",
        "x": 1115.8055114746094,
        "y": 2925.8055114746094,
        "wires": []
    },
    {
        "id": "9d3a9405273abf60",
        "type": "mqtt in",
        "z": "5ba4b54a3f066a44",
        "name": "ape/corredor",
        "topic": "ape/corredor",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 258.05548095703125,
        "y": 2875.638916015625,
        "wires": [
            [
                "9b2c211f313404b5",
                "a6cc302fa24ce718"
            ]
        ]
    },
    {
        "id": "23fe0eaec12e506b",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar",
        "info": "",
        "x": 258.33319091796875,
        "y": 2825.6388549804688,
        "wires": []
    },
    {
        "id": "6a2440ad32d0530b",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 650,
        "y": 2820,
        "wires": []
    },
    {
        "id": "e6be26602d9c59cc",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "View Celular",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 876.9108581542969,
        "y": 2789.8388061523438,
        "wires": []
    },
    {
        "id": "97982dafb0bf30a7",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "View Celular",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 957.910888671875,
        "y": 3065.8389282226562,
        "wires": []
    },
    {
        "id": "371eeaee16d06120",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar topic",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 900.9108581542969,
        "y": 2883.4388122558594,
        "wires": []
    },
    {
        "id": "b7bba0c701b1a214",
        "type": "mqtt in",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "ape/corredor/luz1",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 150,
        "y": 3340,
        "wires": [
            [
                "f25af18f5a3be187",
                "6ff3b35d3914cb46",
                "9a6141e016412e19"
            ]
        ]
    },
    {
        "id": "895fdd06461c236c",
        "type": "mqtt out",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "25167bbc.e1295c",
        "x": 949.1984252929688,
        "y": 3298.055938720703,
        "wires": []
    },
    {
        "id": "26699809b47adf78",
        "type": "change",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "rules": [
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "disconnect",
                "fromt": "str",
                "to": "disconnect",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "on",
                "fromt": "str",
                "to": "Ligado",
                "tot": "str"
            },
            {
                "t": "change",
                "p": "payload",
                "pt": "msg",
                "from": "off",
                "fromt": "str",
                "to": "Desligado",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 813.3927612304688,
        "y": 3467.1114196777344,
        "wires": [
            [
                "95efae09498c385c",
                "58d89efd38c586f6",
                "69b4f8567f475d97"
            ]
        ]
    },
    {
        "id": "6fd8c9a67bcd63e3",
        "type": "mqtt in",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "ape/corredor",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 226.44839477539062,
        "y": 3249.8893432617188,
        "wires": [
            [
                "9b6ed516ef415309",
                "9a6141e016412e19"
            ]
        ]
    },
    {
        "id": "f25af18f5a3be187",
        "type": "switch",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "disconnect",
                "vt": "str"
            },
            {
                "t": "neq",
                "v": "disconnect",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 648.3928527832031,
        "y": 3425.44482421875,
        "wires": [
            [
                "95efae09498c385c",
                "58d89efd38c586f6",
                "3807bb72bd62b1ab"
            ],
            [
                "26699809b47adf78",
                "959b74cf41266a2d"
            ]
        ]
    },
    {
        "id": "d6171092ab320531",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar",
        "info": "",
        "x": 226.72610473632812,
        "y": 3199.8892822265625,
        "wires": []
    },
    {
        "id": "6ff3b35d3914cb46",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 370,
        "y": 3420,
        "wires": []
    },
    {
        "id": "9b6ed516ef415309",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 397.3929138183594,
        "y": 3166.2504272460938,
        "wires": []
    },
    {
        "id": "6d78f89ce5579322",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "View Celular",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 710.3037719726562,
        "y": 3162.0892333984375,
        "wires": []
    },
    {
        "id": "aee0f95265cf0cd2",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "View Celular",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 1044.3037719726562,
        "y": 3463.0892333984375,
        "wires": []
    },
    {
        "id": "4292b8d3005b90d5",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar topic",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 734.3037719726562,
        "y": 3255.689239501953,
        "wires": []
    },
    {
        "id": "9b2c211f313404b5",
        "type": "function",
        "z": "5ba4b54a3f066a44",
        "name": "Enable/Disable editado sala",
        "func": "var msg1 = msg\nvar msg2\nvar dateNow = new Date();\nenvia_pushover = context.get('c_envia_pushover')\nvar old_time = context.get('c_time') || 0\n\nif(msg.payload === \"input\") {\n\n    dif_date = (dateNow - old_time)/1000/60\n    // if(context.get('c_envia_pushover') === \"sim\"){\n    //     if(dif_date >= 6.20){\n    //         msg2 = { payload:\"disconected\"};\n\n        // }\n    }\n\n    // return [null, msg2]\n    \n// } else {\n\n    if(msg.payload === \"on\"){\n        msg.payload = \"Ligado\"\n        msg.enabled = true\n        msg2 = {enabled: true};\n        return [msg1, msg2]\n    } else {\n        if(msg.payload === \"off\"){\n            msg.payload = \"Desligado\"\n            msg.enabled = true\n            msg2 = {enabled: true};\n            return [msg1, msg2]\n        } else {\n            if(msg.payload === \"disconnect\"){\n                msg.payload = \"Desconectado\"\n                msg.enabled = false\n                context.set(\"c_time\", dateNow)\n\n                return [msg1, msg1]\n            }\n            \n        }\n    }\n// }\n\nreturn [msg1, null]\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 620,
        "y": 2920,
        "wires": [
            [
                "62c4bec825cf00c1",
                "f06df9c034a0a2ee",
                "f346d9e9dffb0e55",
                "f2d4af374b05d6dd",
                "6a2440ad32d0530b"
            ],
            [
                "5e6dcdee4bd8dbb1",
                "2378e74fd6eaf2d7"
            ]
        ]
    },
    {
        "id": "98c82d7a14b3c409",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar group",
        "info": "Alterar group dashboard\n",
        "x": 910.0000305175781,
        "y": 2982.0001220703125,
        "wires": []
    },
    {
        "id": "925f64502b1bf04b",
        "type": "mqtt in",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "ape/teste/dht",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 217.29718017578125,
        "y": 1798.26953125,
        "wires": [
            [
                "915b932773972c97",
                "ea19790694d7a6e1"
            ]
        ]
    },
    {
        "id": "915b932773972c97",
        "type": "json",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 435.1805114746094,
        "y": 1802.1527709960938,
        "wires": [
            [
                "2a2981ff49fba00d",
                "bfb75f5234b66af4",
                "e4657b1451e68087"
            ]
        ]
    },
    {
        "id": "2a2981ff49fba00d",
        "type": "function",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "func": "var topico = \"teste\"     // editar para outro comodo\n\nvar msgU;\nvar msgT;\nvar dateNow = new Date();\n msg.enabled = false;\nif(msg.payload === \"input\") {\n\n    dif_date = (dateNow - context.get('c_time'))/1000/60\n\n\n    if(dif_date >= 6.20){\n\n        msgU = { payload: '-', topic: topico};\n        msgT = { payload: '-', topic: topico};\n    }\n    \n} else {\n\n\nu = msg.payload.u\n    if(msg.payload.u === \"0.00\" && msg.payload.t === \"0.00\"){\n        msgU = { payload: '-', topic: topico};\n        msgT = { payload: '-', topic: topico};\n    } else {\n        msgU = { payload: msg.payload.u, topic: topico};\n        msgT = { payload: msg.payload.t, topic: topico};\n    }\n    context.set(\"c_time\", dateNow)\n\n}\n\nreturn [msgU, msgT]\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 617.1804809570312,
        "y": 1809.1527709960938,
        "wires": [
            [
                "530a5185eea57347"
            ],
            [
                "1361e278b79d3b0d",
                "61f1f3ce478b3226",
                "3ef090555cb484a3"
            ]
        ]
    },
    {
        "id": "3c2822abee300161",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "View Celular",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 1021.9304809570312,
        "y": 1805.9529418945312,
        "wires": []
    },
    {
        "id": "3ef090555cb484a3",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 864.4222412109375,
        "y": 1677.14453125,
        "wires": []
    },
    {
        "id": "ea19790694d7a6e1",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 410,
        "y": 1700,
        "wires": []
    },
    {
        "id": "6dd9db96d490df02",
        "type": "inject",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"u\":\"66.00\",\"t\":\"25.90\"}",
        "payloadType": "str",
        "x": 201.79718017578125,
        "y": 1694.26953125,
        "wires": [
            [
                "915b932773972c97"
            ]
        ]
    },
    {
        "id": "a9599cea0a122ed5",
        "type": "comment",
        "z": "5ba4b54a3f066a44",
        "name": "Alterar topico",
        "info": "Alterar variavel topico\n",
        "x": 615.2971801757812,
        "y": 1773.26953125,
        "wires": []
    },
    {
        "id": "bcc5b5b43ef1a5e8",
        "type": "link in",
        "z": "5ba4b54a3f066a44",
        "name": "input 5 min",
        "links": [
            "72b18145fb3bcc07"
        ],
        "x": 446.04718017578125,
        "y": 1740.01953125,
        "wires": [
            [
                "2a2981ff49fba00d"
            ]
        ],
        "l": true,
        "info": "5 min\n"
    },
    {
        "id": "8f45f887045443de",
        "type": "function",
        "z": "5ba4b54a3f066a44",
        "name": "Calculo tempo aceso",
        "func": "var now = new Date();   // current time\nvar time_on = context.get(\"time_on\") || 0 \n\n\nif (msg.payload == \"on\"){\n    if(time_on === 0){\n        context.set(\"time_on\", now)\n        node.warn(\"iniciou coleta tempo \" + now);\n    }\n} else {\n    if(time_on !== 0){\n        if (msg.payload == \"off\"){\n\n            start = context.get(\"time_on\")\n            Start_day =\t\tstart.getDate()\n            Start_month =\tstart.getMonth() + 1\n            Start_year =\tstart.getFullYear()\n            Start_hours =\tstart.getHours()\n            Start_mins =\tstart.getMinutes()\n    \n            Fim_day =\tnow.getDate()\n            Fim_month =\tnow.getMonth() + 1\n            Fim_year =\tnow.getFullYear()\n            Fim_hours =\tnow.getHours()\n            Fim_mins =\tnow.getMinutes()\n    \n            node.warn(\"finalizou coleta tempo\\ninicio = \" + context.get(\"time_on\") + \"\\nfinal =  \" + now );\n        \n            msg.tempo_ligado = Math.round((now - context.get(\"time_on\"))/1000/60)\n            msg.dia = Start_year +\"-\"+ Start_month +\"-\"+ Start_day\n        \n            context.set(\"time_on\", 0)\n            \n            if ((Fim_day > Start_day) || (Fim_month > Start_month) || (Fim_year > Start_year)){\n                msg.tempo_ligado = Math.round(1440 -  ((Start_hours * 60) + Start_mins))\n                msg.tempo_ligado_1 = Math.round((Fim_hours * 60) + Fim_mins)\n                msg.dia = Start_year +\"-\"+ Start_month +\"-\"+ Start_day\n                msg.dia_1 = Fim_year +\"-\"+ Fim_month +\"-\"+ Fim_day\n            }\n            \n            if (msg.tempo_ligado !== 0){\n                msg.flow_time_on1 = time_on\n                return msg\n            }\n        }\n    }\n}\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 954.4222412109375,
        "y": 937.14453125,
        "wires": [
            [
                "b05dfff05b2112f5",
                "a6af354964419ca6",
                "6e48cca73f37da9f"
            ]
        ],
        "info": "if ( !msg.timestamp ) msg.timestamp = Math.round(+new Date());\n\nvar dt = new Date(msg.timestamp);\nvar msg = {\n\t'month':\tdt.getMonth() + 1,\n\t'day':\t\tdt.getDate(),\n\t'year':\t\tdt.getFullYear(),\n\t'hours':\tdt.getHours(),\n\t'mins':\t\tdt.getMinutes(),\n\t'msecs':\tdt.getMilliseconds()\n}\n\nreturn msg;"
    },
    {
        "id": "b05dfff05b2112f5",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1184.4222412109375,
        "y": 897.14453125,
        "wires": []
    },
    {
        "id": "f93e36aa004b7e05",
        "type": "function",
        "z": "5ba4b54a3f066a44",
        "name": "http post data",
        "func": "var sTopico = \"quarto\"     // editar para outro comodo - usado para o grafico\nvar sSensor = \"dht\"\nvar sTemperatura = msg.payload.t\nvar sUmidade = msg.payload.u\n\nif(msg.payload !== \"input\") {\n\n    if(msg.payload.u !== \"0.00\" && msg.payload.t !== \"0.00\"){\n        msg.headers = {'content-type':'application/x-www-form-urlencoded'};\n        msg.payload = { api_key: \"api_key_value\", table:\"Clima\", localidade: sTopico, sensor:sSensor, temperatura: sTemperatura, umidade: sUmidade};\n        return msg\n\n    }\n\n}\n\n \n",
        "outputs": 1,
        "noerr": 0,
        "x": 534.4222412109375,
        "y": 2377.14453125,
        "wires": [
            [
                "0a1562a8020bb5ae"
            ]
        ]
    },
    {
        "id": "0a1562a8020bb5ae",
        "type": "http request",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": false,
        "url": "http://localhost/post-esp-data.php",
        "tls": "",
        "proxy": "",
        "authType": "",
        "x": 724.4222412109375,
        "y": 2377.14453125,
        "wires": [
            [
                "7e23927ace93c1ef"
            ]
        ]
    },
    {
        "id": "7e23927ace93c1ef",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 924.4222412109375,
        "y": 2377.14453125,
        "wires": []
    },
    {
        "id": "e4657b1451e68087",
        "type": "function",
        "z": "5ba4b54a3f066a44",
        "name": "http post data",
        "func": "var sTopico = \"telefonica\"     // editar para outro comodo - usado para o grafico\nvar sSensor = \"dht\"\nvar sTemperatura = msg.payload.t\nvar sUmidade = msg.payload.u\n\nif(msg.payload !== \"input\") {\n\n    if(msg.payload.u !== \"0.00\" && msg.payload.t !== \"0.00\"){\n        msg.headers = {'content-type':'application/x-www-form-urlencoded'};\n        msg.payload = { api_key: \"api_key_value\", table:\"Clima\", localidade: sTopico, sensor:sSensor, temperatura: sTemperatura, umidade: sUmidade};\n        return msg\n\n    }\n\n}\n\n \n",
        "outputs": 1,
        "noerr": 0,
        "x": 634.4222412109375,
        "y": 1977.14453125,
        "wires": [
            [
                "b21b5108d1c36a2b"
            ]
        ]
    },
    {
        "id": "b21b5108d1c36a2b",
        "type": "http request",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": false,
        "url": "http://localhost/post-esp-data.php",
        "tls": "",
        "proxy": "",
        "authType": "",
        "x": 824.4222412109375,
        "y": 1977.14453125,
        "wires": [
            [
                "ea31c35a096c7729"
            ]
        ]
    },
    {
        "id": "ea31c35a096c7729",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1024.4222412109375,
        "y": 1977.14453125,
        "wires": []
    },
    {
        "id": "9d2f23f637e62e83",
        "type": "http request",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": false,
        "url": "http://localhost/post-esp-data.php",
        "tls": "",
        "proxy": "",
        "authType": "",
        "x": 1264.4222412109375,
        "y": 997.14453125,
        "wires": [
            [
                "95c554a39aeb754a"
            ]
        ]
    },
    {
        "id": "6e48cca73f37da9f",
        "type": "function",
        "z": "5ba4b54a3f066a44",
        "name": "http post data",
        "func": "var sLocalidade = \"telefonica\"     // editar para outro comodo - usado para o grafico\nvar sData = msg.dia\nvar sTempoLigado = msg.tempo_ligado\n\n\nif(msg.payload !== \"input\") {\n\n    if(msg.payload.u !== \"0.00\" && msg.payload.t !== \"0.00\"){\n        msg.headers = {'content-type':'application/x-www-form-urlencoded'};\n            msg.payload = { api_key: \"api_key_value\", table:\"TempoLuz\", localidade: sLocalidade, data:sData, tempoligado: sTempoLigado};\n        return msg\n\n    }\n\n}\n\n \n",
        "outputs": 1,
        "noerr": 0,
        "x": 1014.4222412109375,
        "y": 997.14453125,
        "wires": [
            [
                "9d2f23f637e62e83"
            ]
        ]
    },
    {
        "id": "95c554a39aeb754a",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1224.4222412109375,
        "y": 1097.14453125,
        "wires": []
    },
    {
        "id": "a6af354964419ca6",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "dia",
        "targetType": "msg",
        "x": 1154.4222412109375,
        "y": 1157.14453125,
        "wires": []
    },
    {
        "id": "d14151c5bb585b32",
        "type": "function",
        "z": "5ba4b54a3f066a44",
        "name": "Calculo tempo aceso",
        "func": "var now = new Date();   // current time\nvar time_on = context.get(\"time_on\") || 0 \n\n\nif (msg.payload == \"on\"){\n    if(time_on === 0){\n        context.set(\"time_on\", now)\n        // node.warn(\"iniciou coleta tempo \" + now);\n    }\n} else {\n    if(time_on !== 0){\n        if (msg.payload == \"off\"){\n\n            start = context.get(\"time_on\")\n            Start_day =\t\tstart.getDate()\n            Start_month =\tstart.getMonth() + 1\n            Start_year =\tstart.getFullYear()\n            Start_hours =\tstart.getHours()\n            Start_mins =\tstart.getMinutes()\n    \n            Fim_day =\tnow.getDate()\n            Fim_month =\tnow.getMonth() + 1\n            Fim_year =\tnow.getFullYear()\n            Fim_hours =\tnow.getHours()\n            Fim_mins =\tnow.getMinutes()\n    \n            // node.warn(\"finalizou coleta tempo\\ninicio = \" + context.get(\"time_on\") + \"\\nfinal =  \" + now );\n        \n            msg.tempo_ligado = Math.round((now - context.get(\"time_on\"))/1000/60)\n            msg.dia = Start_year +\"-\"+ Start_month +\"-\"+ Start_day\n        \n            context.set(\"time_on\", 0)\n            \n            if ((Fim_day > Start_day) || (Fim_month > Start_month) || (Fim_year > Start_year)){\n                msg.tempo_ligado = Math.round(1440 -  ((Start_hours * 60) + Start_mins))\n                msg.tempo_ligado_1 = Math.round((Fim_hours * 60) + Fim_mins)\n                msg.dia = Start_year +\"-\"+ Start_month +\"-\"+ Start_day\n                msg.dia_1 = Fim_year +\"-\"+ Fim_month +\"-\"+ Fim_day\n            }\n            \n            if (msg.tempo_ligado !== 0){\n                msg.flow_time_on1 = time_on\n                return msg\n            }\n        }\n    }\n}\n",
        "outputs": 1,
        "noerr": 0,
        "x": 300,
        "y": 600,
        "wires": [
            [
                "d1e89d5171a27694"
            ]
        ],
        "info": "if ( !msg.timestamp ) msg.timestamp = Math.round(+new Date());\n\nvar dt = new Date(msg.timestamp);\nvar msg = {\n\t'month':\tdt.getMonth() + 1,\n\t'day':\t\tdt.getDate(),\n\t'year':\t\tdt.getFullYear(),\n\t'hours':\tdt.getHours(),\n\t'mins':\t\tdt.getMinutes(),\n\t'msecs':\tdt.getMilliseconds()\n}\n\nreturn msg;"
    },
    {
        "id": "d1e89d5171a27694",
        "type": "function",
        "z": "5ba4b54a3f066a44",
        "name": "http post data",
        "func": "var sLocalidade = msg.topic.split('/')[1];   \nvar sData = msg.dia\nvar sTempoLigado = msg.tempo_ligado\n\n\nif(msg.payload !== \"input\") {\n\n    if(msg.payload.u !== \"0.00\" && msg.payload.t !== \"0.00\"){\n        msg.headers = {'content-type':'application/x-www-form-urlencoded'};\n            msg.payload = { api_key: \"api_key_value\", table:\"TempoLuz\", localidade: sLocalidade, data:sData, tempoligado: sTempoLigado};\n        return msg\n\n    }\n\n}\n\n \n",
        "outputs": 1,
        "noerr": 0,
        "x": 500,
        "y": 600,
        "wires": [
            [
                "8150b4d2bc93c4b4",
                "915d2e213e878665"
            ]
        ]
    },
    {
        "id": "8150b4d2bc93c4b4",
        "type": "http request",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": false,
        "url": "http://localhost/post-esp-data.php",
        "tls": "",
        "proxy": "",
        "authType": "",
        "x": 690,
        "y": 600,
        "wires": [
            [
                "c3bd55802e97cbed"
            ]
        ]
    },
    {
        "id": "c3bd55802e97cbed",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 870,
        "y": 600,
        "wires": []
    },
    {
        "id": "5536ed2877ec2cb2",
        "type": "inject",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "ape/teste/luz",
        "payload": "off",
        "payloadType": "str",
        "x": 914.4222412109375,
        "y": 797.14453125,
        "wires": [
            [
                "8f45f887045443de"
            ]
        ]
    },
    {
        "id": "6e5a4bee2298e773",
        "type": "inject",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "ape/teste/luz",
        "payload": "on",
        "payloadType": "str",
        "x": 914.4222412109375,
        "y": 757.14453125,
        "wires": [
            [
                "8f45f887045443de"
            ]
        ]
    },
    {
        "id": "81b56faafc667d25",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 670,
        "y": 3340,
        "wires": []
    },
    {
        "id": "aa1d9b82f942c068",
        "type": "inject",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "disconnect",
        "payloadType": "str",
        "x": 272.6070861816406,
        "y": 2673.7495727539062,
        "wires": [
            [
                "9b2c211f313404b5"
            ]
        ]
    },
    {
        "id": "e1c6228a74d05bf6",
        "type": "inject",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "on",
        "payloadType": "str",
        "x": 302.6070861816406,
        "y": 2713.7495727539062,
        "wires": [
            [
                "9b2c211f313404b5"
            ]
        ]
    },
    {
        "id": "f107acea90c6ce28",
        "type": "mqtt in",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "ape/sala/jantar",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 240,
        "y": 3500,
        "wires": [
            [
                "32ded651bfcf691d",
                "9a6141e016412e19"
            ]
        ]
    },
    {
        "id": "32ded651bfcf691d",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 410,
        "y": 3520,
        "wires": []
    },
    {
        "id": "9a6141e016412e19",
        "type": "function",
        "z": "5ba4b54a3f066a44",
        "name": "Enable/Disable new",
        "func": "var msg1 = msg\nvar msg2\nvar dateNow = new Date();\nenvia_pushover = context.get('c_envia_pushover')\nvar old_time = context.get('c_time') || 0\n\nif(msg.payload === \"input\") {\n\n    dif_date = (dateNow - old_time)/1000/60\n    if(context.get('c_envia_pushover') === \"sim\"){\n        if(dif_date >= 6.20){\n            msg2 = { payload:\"disconected\"};\n            context.set(\"c_envia_pushover\", \"não\")\n        }\n    }\n\n    return [null, msg2]\n    \n} else {\n\n    if(msg.payload === \"on\"){\n        msg.payload = \"Ligado\"\n        // msg.enabled = true\n    } else {\n        if(msg.payload === \"off\"){\n            msg.payload = \"Desligado\"\n            // msg.enabled = true\n        } else {\n            if(msg.payload === \"disconnect\"){\n                msg.payload = \"Disconectado\"\n                // msg.enabled = false\n                context.set(\"c_time\", dateNow)\n                context.set(\"c_envia_pushover\", \"sim\")\n            }\n            \n        }\n    }\n}\n\nreturn [msg1, null]\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 3220,
        "wires": [
            [
                "8c9f275d2b7412fa",
                "5e6dcdee4bd8dbb1",
                "81b56faafc667d25",
                "f25af18f5a3be187"
            ],
            []
        ]
    },
    {
        "id": "bfb75f5234b66af4",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 610,
        "y": 1680,
        "wires": []
    },
    {
        "id": "5be1f573b367417c",
        "type": "function",
        "z": "5ba4b54a3f066a44",
        "name": "Enable/Disable new",
        "func": "var msg1 = msg\nvar msg2\nvar dateNow = new Date();\nenvia_pushover = context.get('c_envia_pushover')\nvar old_time = context.get('c_time') || 0\n\nif(msg.payload === \"input\") {\n\n    dif_date = (dateNow - old_time)/1000/60\n    if(context.get('c_envia_pushover') === \"sim\"){\n        if(dif_date >= 6.20){\n            msg2 = { payload:\"disconected\"};\n            context.set(\"c_envia_pushover\", \"não\")\n        }\n    }\n\n    return [null, msg2]\n    \n} else {\n\n    if(msg.payload === \"on\"){\n        msg.payload = \"Ligado\"\n        msg.enabled = true\n    } else {\n        if(msg.payload === \"off\"){\n            msg.payload = \"Desligado\"\n            msg.enabled = true\n        } else {\n            if(msg.payload === \"disconnect\"){\n                msg.payload = \"Disconectado\"\n                msg.enabled = false\n                context.set(\"c_time\", dateNow)\n                context.set(\"c_envia_pushover\", \"sim\")\n            }\n            \n        }\n    }\n}\n\nreturn [msg1, null]\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 1300,
        "wires": [
            [
                "6a8a45d0d68ee231",
                "4005f0465fe0ddf3"
            ],
            [
                "0002625091034064"
            ]
        ]
    },
    {
        "id": "0777af50bc0ba4be",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1120,
        "y": 2120,
        "wires": []
    },
    {
        "id": "fe671186270f3622",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1180,
        "y": 2220,
        "wires": []
    },
    {
        "id": "915d2e213e878665",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 660,
        "y": 660,
        "wires": []
    },
    {
        "id": "5174f937ef74b310",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 390,
        "y": 3000,
        "wires": []
    },
    {
        "id": "a6cc302fa24ce718",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 450,
        "y": 2880,
        "wires": []
    },
    {
        "id": "3807bb72bd62b1ab",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 770,
        "y": 3380,
        "wires": []
    },
    {
        "id": "959b74cf41266a2d",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 770,
        "y": 3520,
        "wires": []
    },
    {
        "id": "69b4f8567f475d97",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1010,
        "y": 3380,
        "wires": []
    },
    {
        "id": "2378e74fd6eaf2d7",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 3000,
        "wires": []
    },
    {
        "id": "8bf7bd816bc6289b",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 3220,
        "wires": []
    },
    {
        "id": "03098df086f1d574",
        "type": "inject",
        "z": "5ba4b54a3f066a44",
        "d": true,
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "60",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "ape/corredor/luz/change",
        "payload": "off",
        "payloadType": "str",
        "x": 550,
        "y": 2620,
        "wires": [
            [
                "3715a437273ba8e4",
                "53df56fb064a8402"
            ]
        ]
    },
    {
        "id": "3715a437273ba8e4",
        "type": "mqtt out",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "25167bbc.e1295c",
        "x": 970,
        "y": 2640,
        "wires": []
    },
    {
        "id": "53df56fb064a8402",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 2700,
        "wires": []
    },
    {
        "id": "30c4bd46247b0abe",
        "type": "debug",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1140,
        "y": 2880,
        "wires": []
    },
    {
        "id": "507431d9184dc5a4",
        "type": "link out",
        "z": "5ba4b54a3f066a44",
        "name": "Saida_DHT_Temp",
        "mode": "link",
        "links": [
            "81c635fa9c27d850"
        ],
        "x": 865,
        "y": 2160,
        "wires": []
    },
    {
        "id": "4c782d7f505e9489",
        "type": "ui_button",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "group": "f21b56b6783c0b27",
        "order": 2,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Luz",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "ape/quarto/luz/change",
        "topicType": "str",
        "x": 730.4444580078125,
        "y": 183.47225952148438,
        "wires": [
            [
                "933a176e2c09bfae"
            ]
        ]
    },
    {
        "id": "4005f0465fe0ddf3",
        "type": "ui_button",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "group": "a9a8b0bfa16db8f2",
        "order": 1,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Luz",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "ape/varanda/luz/change",
        "topicType": "str",
        "x": 750,
        "y": 1340,
        "wires": [
            [
                "95f5317ddfd14549"
            ]
        ]
    },
    {
        "id": "6a8a45d0d68ee231",
        "type": "ui_button",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "group": "606728ffca968749",
        "order": 9,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Varanda",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "ape/varanda/luz/change",
        "topicType": "str",
        "x": 748.3055114746094,
        "y": 1274.2278442382812,
        "wires": [
            [
                "95f5317ddfd14549"
            ]
        ]
    },
    {
        "id": "9d38c56cec2a65a1",
        "type": "ui_button",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "group": "606728ffca968749",
        "order": 1,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Quarto",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "ape/quarto/luz/change",
        "topicType": "str",
        "x": 715.1053466796875,
        "y": 86.63330078125,
        "wires": [
            [
                "933a176e2c09bfae"
            ]
        ]
    },
    {
        "id": "8c33920b3ef56627",
        "type": "ui_button",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "group": "052ea0e19df0f38c",
        "order": 1,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Luz",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "ape/teste/luz/change",
        "topicType": "str",
        "x": 640.3055419921875,
        "y": 884.4278564453125,
        "wires": [
            [
                "8514caddc23ee00d"
            ]
        ]
    },
    {
        "id": "02090dde7dbfbc6b",
        "type": "ui_button",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "group": "606728ffca968749",
        "order": 6,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Proto",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "ape/teste/luz/change",
        "topicType": "str",
        "x": 637.3055419921875,
        "y": 790.4278411865234,
        "wires": [
            [
                "8514caddc23ee00d"
            ]
        ]
    },
    {
        "id": "f06df9c034a0a2ee",
        "type": "ui_button",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "group": "7ac0c575.b52f2c",
        "order": 5,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Corredor",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "ape/corredor/luz/change",
        "topicType": "str",
        "x": 908.2499694824219,
        "y": 2924.2777709960938,
        "wires": [
            [
                "c7ae0561f5b210eb",
                "30c4bd46247b0abe"
            ]
        ]
    },
    {
        "id": "62c4bec825cf00c1",
        "type": "ui_button",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "group": "606728ffca968749",
        "order": 12,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Corredor",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "ape/corredor/luz/change",
        "topicType": "str",
        "x": 896.9108581542969,
        "y": 2822.4388122558594,
        "wires": [
            [
                "c7ae0561f5b210eb",
                "30c4bd46247b0abe"
            ]
        ]
    },
    {
        "id": "5e6dcdee4bd8dbb1",
        "type": "ui_button",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "group": "7ac0c575.b52f2c",
        "order": 1,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Sala",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "ape/corredor/luz1/change",
        "topicType": "str",
        "x": 731.6428833007812,
        "y": 3296.5281982421875,
        "wires": [
            [
                "895fdd06461c236c",
                "8bf7bd816bc6289b"
            ]
        ]
    },
    {
        "id": "8c9f275d2b7412fa",
        "type": "ui_button",
        "z": "5ba4b54a3f066a44",
        "name": "",
        "group": "606728ffca968749",
        "order": 15,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Sala",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "ape/corredor/luz1/change",
        "topicType": "str",
        "x": 720.3037719726562,
        "y": 3194.689239501953,
        "wires": [
            [
                "895fdd06461c236c"
            ]
        ]
    },
    {
        "id": "57abe386d212abdb",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "f21b56b6783c0b27",
        "order": 3,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 810,
        "y": 440,
        "wires": []
    },
    {
        "id": "a6a63242ad762e26",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "a9a8b0bfa16db8f2",
        "order": 2,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 817.3055725097656,
        "y": 1435.2218933105469,
        "wires": []
    },
    {
        "id": "09aafac8c2e375cb",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "f21b56b6783c0b27",
        "order": 5,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "Umidade",
        "format": "{{msg.payload | number:1}} %",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 894.4222412109375,
        "y": 2237.14453125,
        "wires": []
    },
    {
        "id": "2c5e370db92f6742",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "f21b56b6783c0b27",
        "order": 4,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "Temperatura",
        "format": "{{msg.payload | number:1}} °C ",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 904.4222412109375,
        "y": 2317.14453125,
        "wires": []
    },
    {
        "id": "4f3d2866d1be49dc",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "606728ffca968749",
        "order": 10,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 909.3055114746094,
        "y": 1508.2278442382812,
        "wires": []
    },
    {
        "id": "1fd9ad0481dc0c53",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "606728ffca968749",
        "order": 5,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "Temperatura",
        "format": "{{msg.payload | number:1}} °C ",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1044.4222412109375,
        "y": 2277.14453125,
        "wires": []
    },
    {
        "id": "669446a98a408ab4",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "606728ffca968749",
        "order": 2,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 850,
        "y": 500,
        "wires": []
    },
    {
        "id": "f190b115b0fc93f4",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "052ea0e19df0f38c",
        "order": 2,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 767.138916015625,
        "y": 992.705322265625,
        "wires": []
    },
    {
        "id": "8189d3a893d42715",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "606728ffca968749",
        "order": 7,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 711.3055419921875,
        "y": 1070.4278564453125,
        "wires": []
    },
    {
        "id": "f346d9e9dffb0e55",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "7ac0c575.b52f2c",
        "order": 6,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 905.7499389648438,
        "y": 3023.888946533203,
        "wires": []
    },
    {
        "id": "f2d4af374b05d6dd",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "606728ffca968749",
        "order": 13,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 939.910888671875,
        "y": 3101.43896484375,
        "wires": []
    },
    {
        "id": "95efae09498c385c",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "7ac0c575.b52f2c",
        "order": 2,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 992.142822265625,
        "y": 3421.1392517089844,
        "wires": []
    },
    {
        "id": "58d89efd38c586f6",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "606728ffca968749",
        "order": 16,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1010,
        "y": 3500,
        "wires": []
    },
    {
        "id": "1361e278b79d3b0d",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "052ea0e19df0f38c",
        "order": 3,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "Temp",
        "format": "{{msg.payload | number:1}} °C ",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 795.413818359375,
        "y": 1894.6640014648438,
        "wires": []
    },
    {
        "id": "61f1f3ce478b3226",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "606728ffca968749",
        "order": 8,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "Temperatura",
        "format": "{{msg.payload | number:1}} °C ",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 1025.4302368164062,
        "y": 1841.5029907226562,
        "wires": []
    },
    {
        "id": "530a5185eea57347",
        "type": "ui_text",
        "z": "5ba4b54a3f066a44",
        "group": "052ea0e19df0f38c",
        "order": 4,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "Umidd",
        "format": "{{msg.payload | number:1}} %",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 802.1805419921875,
        "y": 1856.4028930664062,
        "wires": []
    },
    {
        "id": "9172ee4a892b2be6",
        "type": "function",
        "z": "e1e77b44450f1dd2",
        "name": "Enable/Disable new",
        "func": "var msg1 = msg\nvar msg2\nvar dateNow = new Date();\nenvia_pushover = context.get('c_envia_pushover')\nvar old_time = context.get('c_time') || 0\n\nif(msg.payload === \"input\") {\n\n    dif_date = (dateNow - old_time)/1000/60\n    if(context.get('c_envia_pushover') === \"sim\"){\n        if(dif_date >= 6.20){\n            msg2 = { payload:\"disconected\"};\n            context.set(\"c_envia_pushover\", \"não\")\n        }\n    }\n\n    return [null, msg2]\n    \n} else {\n\n    if(msg.payload === \"on\"){\n        msg.payload = \"Ligado\"\n        msg.enabled = true\n    } else {\n        if(msg.payload === \"off\"){\n            msg.payload = \"Desligado\"\n            msg.enabled = true\n        } else {\n            if(msg.payload === \"disconnect\"){\n                msg.payload = \"Off Line\"\n                msg.enabled = false\n                context.set(\"c_time\", dateNow)\n                context.set(\"c_envia_pushover\", \"sim\")\n            }\n            \n        }\n    }\n}\n\nreturn [msg1, null]\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 480,
        "y": 640,
        "wires": [
            [
                "b3c973cb8ec4482e",
                "e4269c9d3d16ebee",
                "7f196edf2f4a4954",
                "629927610ed4be2d"
            ],
            []
        ]
    },
    {
        "id": "815606eca2aacbb5",
        "type": "mqtt in",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "topic": "ape/quartom2",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 230,
        "y": 600,
        "wires": [
            [
                "f719f7240a670305",
                "9172ee4a892b2be6"
            ]
        ]
    },
    {
        "id": "cd7147d5dd49688d",
        "type": "link in",
        "z": "e1e77b44450f1dd2",
        "name": "input 5 min",
        "links": [
            "72b18145fb3bcc07"
        ],
        "x": 220,
        "y": 560,
        "wires": [
            [
                "9172ee4a892b2be6"
            ]
        ],
        "l": true,
        "info": "5 min\n"
    },
    {
        "id": "28c24ad5a060f2e0",
        "type": "mqtt out",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "topic": "ape/quartom2/umidificador/change",
        "qos": "",
        "retain": "",
        "broker": "25167bbc.e1295c",
        "x": 1000,
        "y": 660,
        "wires": []
    },
    {
        "id": "f719f7240a670305",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 470,
        "y": 580,
        "wires": []
    },
    {
        "id": "b28fe1e88c4f69d2",
        "type": "mqtt in",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "topic": "ape/quartom/dht",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 220,
        "y": 860,
        "wires": [
            [
                "bd28e069ae082bc3"
            ]
        ]
    },
    {
        "id": "ee7a0ed20ad870bd",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 730,
        "y": 820,
        "wires": []
    },
    {
        "id": "bd28e069ae082bc3",
        "type": "json",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 410,
        "y": 860,
        "wires": [
            [
                "c59cc5a1cc96391c",
                "e718aba5f4bacb2e"
            ]
        ]
    },
    {
        "id": "c59cc5a1cc96391c",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 550,
        "y": 820,
        "wires": []
    },
    {
        "id": "0c863fb907ebe78d",
        "type": "mqtt out",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "topic": "ape/quartom2/umidificador/change",
        "qos": "",
        "retain": "",
        "broker": "25167bbc.e1295c",
        "x": 860,
        "y": 860,
        "wires": []
    },
    {
        "id": "e718aba5f4bacb2e",
        "type": "function",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "func": "\nvar v_maximo \nvar v_minimo\nvar v_umidad\n\nv_maximo = (context.get(\"c_maximo\") || 80)\nv_minimo = (context.get(\"c_minimo\") || 40)\nv_umidad = (context.get(\"c_umidad\") || 55)\n\nif(msg.topic === \"minimo\"){\n    context.set(\"c_minimo\", msg.payload)  \n}\n\nif(msg.topic === \"maximo\"){\n    context.set(\"c_maximo\", msg.payload)   \n}\n\nif(msg.payload.u < v_minimo){\n    msg.payload = \"on\"\n    return [msg, null];\n} else {\n    if(msg.payload.u > v_maximo){\n        msg.payload = \"off\"\n        return [msg, null];\n    }\n}\n\n\nif(msg.payload.u < 50){\n    if(msg.payload.u < (v_umidad - 5)){\n        context.set(\"c_umidad\",msg.payload.u)\n        msg.payload = \"Umidade no quarto da Manuela esta em \" +msg.payload.u +\"%\"\n        return[null, null]\n    }\n} else if (msg.payload.u > 60){\n    context.set(\"c_umidad\", 55)\n}\n    ",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 570,
        "y": 860,
        "wires": [
            [
                "ee7a0ed20ad870bd",
                "0c863fb907ebe78d"
            ],
            [
                "bd09d89088b43246",
                "12f7ea7070bc1001"
            ]
        ]
    },
    {
        "id": "86657aac05de9e62",
        "type": "mqtt in",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "topic": "ape/quartom/dht",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 160,
        "y": 1320,
        "wires": [
            [
                "e616fb4e67f6f91f",
                "d89181585eae94a1"
            ]
        ]
    },
    {
        "id": "e616fb4e67f6f91f",
        "type": "json",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 367.8833312988281,
        "y": 1323.8832397460938,
        "wires": [
            [
                "116febea329a90aa",
                "188094ff27a10906",
                "11c83a16d85bd552",
                "9cded692cc2c0be5"
            ]
        ]
    },
    {
        "id": "116febea329a90aa",
        "type": "function",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "func": "var topico = \"quartom\"     // editar para outro comodo\n\nvar msgU;\nvar msgT;\nvar dateNow = new Date();\n msg.enabled = false;\nif(msg.payload === \"input\") {\n\n    dif_date = (dateNow - context.get('c_time'))/1000/60\n\n\n    if(dif_date >= 6.20){\n\n        msgU = { payload: '-', topic: topico};\n        msgT = { payload: '-', topic: topico};\n    }\n    \n} else {\n\n\nu = msg.payload.u\n    if(msg.payload.u === \"0.00\" && msg.payload.t === \"0.00\"){\n        msgU = { payload: '-', topic: topico};\n        msgT = { payload: '-', topic: topico};\n    } else {\n        msgU = { payload: msg.payload.u, topic: topico};\n        msgT = { payload: msg.payload.t, topic: topico};\n    }\n    context.set(\"c_time\", dateNow)\n\n}\n\nreturn [msgU, msgT]\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 549.88330078125,
        "y": 1330.8832397460938,
        "wires": [
            [
                "b7799f9dcc5413dc"
            ],
            [
                "4f96256489139ae8",
                "f9f3f7fad7185b39",
                "264580274e3298c4"
            ]
        ]
    },
    {
        "id": "203b5a9475e41efe",
        "type": "comment",
        "z": "e1e77b44450f1dd2",
        "name": "View Celular",
        "info": "locationid/deviceid/mqttAtuadorId/change\n\nape/teste/luz1/change",
        "x": 954.63330078125,
        "y": 1327.6834106445312,
        "wires": []
    },
    {
        "id": "264580274e3298c4",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 730,
        "y": 1460,
        "wires": []
    },
    {
        "id": "d89181585eae94a1",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 342.70281982421875,
        "y": 1221.73046875,
        "wires": []
    },
    {
        "id": "7b1c50d68652c0c3",
        "type": "inject",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"u\":\"66.00\",\"t\":\"25.90\"}",
        "payloadType": "str",
        "x": 134.5,
        "y": 1216,
        "wires": [
            [
                "e616fb4e67f6f91f"
            ]
        ]
    },
    {
        "id": "d6fc0efcffe551b3",
        "type": "comment",
        "z": "e1e77b44450f1dd2",
        "name": "Alterar topico",
        "info": "Alterar variavel topico\n",
        "x": 548,
        "y": 1295,
        "wires": []
    },
    {
        "id": "c38f15713badd1f9",
        "type": "link in",
        "z": "e1e77b44450f1dd2",
        "name": "input 5 min",
        "links": [
            "72b18145fb3bcc07"
        ],
        "x": 378.75,
        "y": 1261.75,
        "wires": [
            [
                "116febea329a90aa"
            ]
        ],
        "l": true,
        "info": "5 min\n"
    },
    {
        "id": "11c83a16d85bd552",
        "type": "function",
        "z": "e1e77b44450f1dd2",
        "name": "http post data",
        "func": "var sTopico = \"quartom\"     // editar para outro comodo - usado para o grafico\nvar sSensor = \"dht\"\nvar sTemperatura = msg.payload.t\nvar sUmidade = msg.payload.u\n\nif(msg.payload !== \"input\") {\n\n    if(msg.payload.u !== \"0.00\" && msg.payload.t !== \"0.00\"){\n        msg.headers = {'content-type':'application/x-www-form-urlencoded'};\n        msg.payload = { api_key: \"api_key_value\", table:\"Clima\", localidade: sTopico, sensor:sSensor, temperatura: sTemperatura, umidade: sUmidade};\n        return msg\n\n    }\n\n}\n\n \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 567.1250610351562,
        "y": 1498.875,
        "wires": [
            [
                "d8a26764f8fd0d91"
            ]
        ]
    },
    {
        "id": "d8a26764f8fd0d91",
        "type": "http request",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": false,
        "url": "http://localhost/post-esp-data.php",
        "tls": "",
        "proxy": "",
        "authType": "",
        "x": 757.1250610351562,
        "y": 1498.875,
        "wires": [
            [
                "320f30b69501b021"
            ]
        ]
    },
    {
        "id": "320f30b69501b021",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 957.1250610351562,
        "y": 1498.875,
        "wires": []
    },
    {
        "id": "188094ff27a10906",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 542.7028198242188,
        "y": 1201.73046875,
        "wires": []
    },
    {
        "id": "2e5c70900b1cd73c",
        "type": "inject",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"u\":\"43\",\"t\":\"24.07\"}",
        "payloadType": "str",
        "x": 210,
        "y": 940,
        "wires": [
            [
                "bd28e069ae082bc3"
            ]
        ]
    },
    {
        "id": "5b51c9b9d320ba23",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 450,
        "y": 700,
        "wires": []
    },
    {
        "id": "e40a2da6de7b91f9",
        "type": "mqtt in",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "topic": "ape/quartom2/umidificador",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 210,
        "y": 700,
        "wires": [
            [
                "5b51c9b9d320ba23",
                "9172ee4a892b2be6"
            ]
        ]
    },
    {
        "id": "12f7ea7070bc1001",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 700,
        "y": 980,
        "wires": []
    },
    {
        "id": "53ba18c7885392f9",
        "type": "function",
        "z": "e1e77b44450f1dd2",
        "name": "Enable/Disable new",
        "func": "var msg1 = msg\nvar msg2\nvar dateNow = new Date();\nenvia_pushover = context.get('c_envia_pushover')\nvar old_time = context.get('c_time') || 0\n\nif(msg.payload === \"input\") {\n\n    dif_date = (dateNow - old_time)/1000/60\n    if(context.get('c_envia_pushover') === \"sim\"){\n        if(dif_date >= 6.20){\n            msg2 = { payload:\"disconected\"};\n            context.set(\"c_envia_pushover\", \"não\")\n        }\n    }\n\n    return [null, msg2]\n    \n} else {\n\n    if(msg.payload === \"on\"){\n        msg.payload = \"Ligado\"\n        msg.enabled = true\n    } else {\n        if(msg.payload === \"off\"){\n            msg.payload = \"Desligado\"\n            msg.enabled = true\n        } else {\n            if(msg.payload === \"disconnect\"){\n                msg.payload = \"Off Line\"\n                msg.enabled = false\n                context.set(\"c_time\", dateNow)\n                context.set(\"c_envia_pushover\", \"sim\")\n            }\n            \n        }\n    }\n}\n\nreturn [msg1, null]\n\n",
        "outputs": 2,
        "noerr": 0,
        "x": 440,
        "y": 1760,
        "wires": [
            [
                "1c034b405c6f22f3",
                "6933c3b21e29699f",
                "213a3fdf84bbe250",
                "dbdc3a8ab5786df3"
            ],
            []
        ]
    },
    {
        "id": "7d6bba99deb3c51f",
        "type": "mqtt in",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "topic": "ape/sala",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 180,
        "y": 1720,
        "wires": [
            [
                "cdbe363d4025d96d",
                "53ba18c7885392f9"
            ]
        ]
    },
    {
        "id": "0c53f662c83b8832",
        "type": "link in",
        "z": "e1e77b44450f1dd2",
        "name": "input 5 min",
        "links": [
            "72b18145fb3bcc07"
        ],
        "x": 180,
        "y": 1680,
        "wires": [
            [
                "53ba18c7885392f9"
            ]
        ],
        "l": true,
        "info": "5 min\n"
    },
    {
        "id": "3f9b1f9518f85f08",
        "type": "mqtt out",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "topic": "ape/sala/estar/change",
        "qos": "",
        "retain": "",
        "broker": "25167bbc.e1295c",
        "x": 920,
        "y": 1780,
        "wires": []
    },
    {
        "id": "cdbe363d4025d96d",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 430,
        "y": 1700,
        "wires": []
    },
    {
        "id": "e5b2f9acd7b6086b",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 410,
        "y": 1820,
        "wires": []
    },
    {
        "id": "c16fc7a970884062",
        "type": "mqtt in",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "topic": "ape/sala/estar",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 150,
        "y": 1820,
        "wires": [
            [
                "e5b2f9acd7b6086b",
                "53ba18c7885392f9"
            ]
        ]
    },
    {
        "id": "589ef3e44f89748d",
        "type": "function",
        "z": "e1e77b44450f1dd2",
        "name": "Enable/Disable new",
        "func": "var msg1 = msg\nvar msg2\nvar dateNow = new Date();\nenvia_pushover = context.get('c_envia_pushover')\nvar old_time = context.get('c_time') || 0\n\nif(msg.payload === \"input\") {\n\n    dif_date = (dateNow - old_time)/1000/60\n    if(context.get('c_envia_pushover') === \"sim\"){\n        if(dif_date >= 6.20){\n            msg2 = { payload:\"disconected\"};\n            context.set(\"c_envia_pushover\", \"não\")\n        }\n    }\n\n    return [null, msg2]\n    \n} else {\n\n    if(msg.payload === \"on\"){\n        msg.payload = \"Ligado\"\n        msg.enabled = true\n    } else {\n        if(msg.payload === \"off\"){\n            msg.payload = \"Desligado\"\n            msg.enabled = true\n        } else {\n            if(msg.payload === \"disconnect\"){\n                msg.payload = \"Off Line\"\n                msg.enabled = false\n                context.set(\"c_time\", dateNow)\n                context.set(\"c_envia_pushover\", \"sim\")\n            }\n            \n        }\n    }\n}\n\nreturn [msg1, null]\n\n",
        "outputs": 2,
        "noerr": 0,
        "x": 400,
        "y": 2060,
        "wires": [
            [
                "ad746a204dcec7e4",
                "f9a0226f43f8d62e",
                "2f916c4575e16915",
                "ef8c039805bdbfab"
            ],
            []
        ]
    },
    {
        "id": "aa9ac875e9c4c23b",
        "type": "mqtt in",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "topic": "ape/sala",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 140,
        "y": 2020,
        "wires": [
            [
                "8331a5a8973df287",
                "589ef3e44f89748d"
            ]
        ]
    },
    {
        "id": "f24a8024be5ed4b2",
        "type": "link in",
        "z": "e1e77b44450f1dd2",
        "name": "input 5 min",
        "links": [
            "72b18145fb3bcc07"
        ],
        "x": 140,
        "y": 1980,
        "wires": [
            [
                "589ef3e44f89748d"
            ]
        ],
        "l": true,
        "info": "5 min\n"
    },
    {
        "id": "757be5b58ac21207",
        "type": "mqtt in",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "topic": "ape/sala/indireta",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 120,
        "y": 2120,
        "wires": [
            [
                "c8bbc40c0c135201",
                "589ef3e44f89748d",
                "206839b7b4b7a540"
            ]
        ]
    },
    {
        "id": "8331a5a8973df287",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 370,
        "y": 2000,
        "wires": []
    },
    {
        "id": "63981fc9aa230dc7",
        "type": "mqtt out",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "topic": "ape/sala/indireta/change",
        "qos": "",
        "retain": "",
        "broker": "25167bbc.e1295c",
        "x": 890,
        "y": 2080,
        "wires": []
    },
    {
        "id": "c8bbc40c0c135201",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 150,
        "y": 2200,
        "wires": []
    },
    {
        "id": "206839b7b4b7a540",
        "type": "function",
        "z": "e1e77b44450f1dd2",
        "name": "tempo aceso + http request",
        "func": "var sLocalidade //= msg.topic.split('/')[1];   \nif(msg.topic.split('/')[1] === \"luz\"){\n    sLocalidade = msg.topic.split('/')[1];\n} else {\n    sLocalidade = msg.topic.split('/')[2];\n}\n\nvar now = new Date();   // current time\nvar time_on = context.get(\"time_on\") || 0 \nvar tempo_ligado = 0\nvar tempo_ligado2 = 0\nvar dia2 = 0\nvar dia = 0\n\n\n\nif (msg.payload == \"on\"){\n    if(time_on === 0){\n        context.set(\"time_on\", now)\n        node.warn(\"iniciou coleta tempo \" + now);\n    }\n} else if (msg.payload == \"off\"){\n\n    context.set(\"time_on\", 0)\n\n\n    start = time_on\n    Start_day =\t\tstart.getDate()\n    Start_month =\tstart.getMonth() + 1\n    Start_year =\tstart.getFullYear()\n    Start_hours =\tstart.getHours()\n    Start_mins =\tstart.getMinutes()\n\n    Fim_day =\tnow.getDate()\n    Fim_month =\tnow.getMonth() + 1\n    Fim_year =\tnow.getFullYear()\n    Fim_hours =\tnow.getHours()\n    Fim_mins =\tnow.getMinutes()\n\n    // node.warn(\"finalizou coleta tempo\\ninicio = \" + time_on + \"\\nfinal =  \" + now );\n    \n    // // ######################\n    // Start_day =\t\t13\n    // Start_hours =\t23\n    // Start_mins =\t55\n    \n    // // ######################\n\n        \n  \n    if ((Fim_day > Start_day) || (Fim_month > Start_month) || (Fim_year > Start_year)){\n        \n        tempo_ligado  = Math.round(1440 -  ((Start_hours * 60) + Start_mins))\n        tempo_ligado2 = Math.round((Fim_hours * 60) + Fim_mins)\n        \n        dia  = Start_year +\"-\"+ Start_month +\"-\"+ Start_day\n        dia2 = (Fim_year +\"-\"+ Fim_month +\"-\"+ Fim_day || 0)\n\n\n// #################### pacote http request ####################\n        msg.headers = {'content-type':'application/x-www-form-urlencoded'};\n        msg.payload = { api_key: \"api_key_value\",\n                        table:\"TempoLuz\",\n                        localidade: sLocalidade,\n                        data:dia,\n                        tempoligado: tempo_ligado\n                      };\n\n        msg2 =  {\n                headers :{'content-type':'application/x-www-form-urlencoded'},\n                payload :{  api_key: \"api_key_value\",\n                            table:\"TempoLuz\",\n                            localidade: sLocalidade,\n                            data:dia2,\n                            tempoligado: tempo_ligado2}\n            \n                }\n// #################### fim pacote http request #################\n        return [msg, msg2]\n    } else {\n        tempo_ligado = Math.round((now - time_on)/1000/60)\n        msg.tempo_ligado = tempo_ligado\n        msg.dia = Start_year +\"-\"+ Start_month +\"-\"+ Start_day\n        \n        \n// #################### pacote http request ####################\n\n        msg.headers = {'content-type':'application/x-www-form-urlencoded'};\n        msg.payload = { api_key: \"api_key_value\",\n                        table:\"TempoLuz\",\n                        localidade: sLocalidade,\n                        data:dia,\n                        tempoligado: tempo_ligado\n                      };\n// #################### fim pacote http request #################\n\n        return [msg, null]\n    }\n    \n\n}\n\n\n\n",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 420,
        "y": 2180,
        "wires": [
            [
                "a90244e583ada51a",
                "3282745c87eaf0fa"
            ],
            [
                "f6f2ad3945b70676",
                "3282745c87eaf0fa"
            ]
        ],
        "info": "if ( !msg.timestamp ) msg.timestamp = Math.round(+new Date());\n\nvar dt = new Date(msg.timestamp);\nvar msg = {\n\t'month':\tdt.getMonth() + 1,\n\t'day':\t\tdt.getDate(),\n\t'year':\t\tdt.getFullYear(),\n\t'hours':\tdt.getHours(),\n\t'mins':\t\tdt.getMinutes(),\n\t'msecs':\tdt.getMilliseconds()\n}\n\nreturn msg;"
    },
    {
        "id": "a90244e583ada51a",
        "type": "http request",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": false,
        "url": "http://localhost/post-esp-data.php",
        "tls": "",
        "proxy": "",
        "authType": "",
        "x": 750,
        "y": 2180,
        "wires": [
            [
                "dfd6f7918c6d0f24"
            ]
        ]
    },
    {
        "id": "e61c1a733aedd6c1",
        "type": "inject",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "ape/sala/indireta",
        "payload": "on",
        "payloadType": "str",
        "x": 130,
        "y": 2280,
        "wires": [
            [
                "206839b7b4b7a540"
            ]
        ]
    },
    {
        "id": "a5aee81bbbce55e7",
        "type": "inject",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "ape/sala/indireta",
        "payload": "off",
        "payloadType": "str",
        "x": 130,
        "y": 2320,
        "wires": [
            [
                "206839b7b4b7a540"
            ]
        ]
    },
    {
        "id": "dfd6f7918c6d0f24",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "http",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 910,
        "y": 2180,
        "wires": []
    },
    {
        "id": "f6f2ad3945b70676",
        "type": "delay",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "pauseType": "delay",
        "timeout": "5",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": true,
        "outputs": 1,
        "x": 620,
        "y": 2220,
        "wires": [
            [
                "a90244e583ada51a"
            ]
        ]
    },
    {
        "id": "3282745c87eaf0fa",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 630,
        "y": 2320,
        "wires": []
    },
    {
        "id": "d28c8251062587bb",
        "type": "inject",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"u\":\"54\",\"t\":\"22.07\"}",
        "payloadType": "str",
        "x": 230,
        "y": 800,
        "wires": [
            [
                "bd28e069ae082bc3"
            ]
        ]
    },
    {
        "id": "9cded692cc2c0be5",
        "type": "function",
        "z": "e1e77b44450f1dd2",
        "name": "Pushover",
        "func": "v_umidad = (context.get(\"c_umidad\") || 55)\n\nif(msg.payload.u < 50){\n    if(msg.payload.u < (v_umidad - 3)){\n        context.set(\"c_umidad\",msg.payload.u)\n        msg.payload = \"Umidade no quarto da Manuela esta em \" +msg.payload.u +\"%\"\n        return msg\n    }\n} else if (msg.payload.u > 60){\n    context.set(\"c_umidad\", 55)\n}\n    ",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 220,
        "y": 1460,
        "wires": [
            [
                "c19d01214aa806d4",
                "d7bacdaf59f40fed"
            ]
        ]
    },
    {
        "id": "d7bacdaf59f40fed",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 370,
        "y": 1520,
        "wires": []
    },
    {
        "id": "bfbb87bba5eaa7dd",
        "type": "template",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "field": "payload",
        "fieldType": "msg",
        "format": "handlebars",
        "syntax": "mustache",
        "template": "This is the payload: {{payload}} !",
        "output": "str",
        "x": 290,
        "y": 420,
        "wires": [
            [
                "5bbcb0afe7b159ae"
            ]
        ]
    },
    {
        "id": "e0707db332948f1a",
        "type": "inject",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 110,
        "y": 440,
        "wires": [
            [
                "bfbb87bba5eaa7dd"
            ]
        ]
    },
    {
        "id": "5bbcb0afe7b159ae",
        "type": "debug",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 480,
        "y": 440,
        "wires": []
    },
    {
        "id": "b3c973cb8ec4482e",
        "type": "ui_button",
        "z": "e1e77b44450f1dd2",
        "name": "Celular",
        "group": "d5ef06dc532029af",
        "order": 1,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Umidificador",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 700,
        "y": 660,
        "wires": [
            [
                "28c24ad5a060f2e0"
            ]
        ]
    },
    {
        "id": "629927610ed4be2d",
        "type": "ui_button",
        "z": "e1e77b44450f1dd2",
        "name": "Ape",
        "group": "f21b56b6783c0b27",
        "order": 14,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Umidif",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "fa-plug",
        "payload": "change",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 690,
        "y": 580,
        "wires": [
            [
                "28c24ad5a060f2e0"
            ]
        ]
    },
    {
        "id": "1c034b405c6f22f3",
        "type": "ui_button",
        "z": "e1e77b44450f1dd2",
        "name": "Celular",
        "group": "d5ef06dc532029af",
        "order": 2,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Umidificador",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 660,
        "y": 1780,
        "wires": [
            [
                "3f9b1f9518f85f08"
            ]
        ]
    },
    {
        "id": "dbdc3a8ab5786df3",
        "type": "ui_button",
        "z": "e1e77b44450f1dd2",
        "name": "Estar",
        "group": "7ac0c575.b52f2c",
        "order": 3,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Estar",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 650,
        "y": 1700,
        "wires": [
            [
                "3f9b1f9518f85f08"
            ]
        ]
    },
    {
        "id": "ad746a204dcec7e4",
        "type": "ui_button",
        "z": "e1e77b44450f1dd2",
        "name": "Celular",
        "group": "d5ef06dc532029af",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Umidificador",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 620,
        "y": 2080,
        "wires": [
            [
                "63981fc9aa230dc7"
            ]
        ]
    },
    {
        "id": "ef8c039805bdbfab",
        "type": "ui_button",
        "z": "e1e77b44450f1dd2",
        "name": "Indireta",
        "group": "7ac0c575.b52f2c",
        "order": 8,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "Indireta",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "wb_incandescent",
        "payload": "change",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 620,
        "y": 2000,
        "wires": [
            [
                "63981fc9aa230dc7"
            ]
        ]
    },
    {
        "id": "785508370c7ae73d",
        "type": "ui_dropdown",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "label": "Min",
        "tooltip": "",
        "place": "",
        "group": "f21b56b6783c0b27",
        "order": 12,
        "width": 2,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "40",
                "type": "str"
            },
            {
                "label": "",
                "value": "50",
                "type": "str"
            },
            {
                "label": "",
                "value": "55",
                "type": "str"
            },
            {
                "label": "",
                "value": "60",
                "type": "str"
            },
            {
                "label": "",
                "value": "62",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "minimo",
        "topicType": "str",
        "className": "",
        "x": 410,
        "y": 920,
        "wires": [
            [
                "e718aba5f4bacb2e"
            ]
        ]
    },
    {
        "id": "b68247aa18df8393",
        "type": "ui_dropdown",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "label": "Max",
        "tooltip": "",
        "place": "Select option",
        "group": "f21b56b6783c0b27",
        "order": 13,
        "width": 2,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "80",
                "type": "str"
            },
            {
                "label": "",
                "value": "85",
                "type": "str"
            },
            {
                "label": "",
                "value": "90",
                "type": "str"
            },
            {
                "label": "",
                "value": "68",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "maximo",
        "topicType": "str",
        "className": "",
        "x": 410,
        "y": 980,
        "wires": [
            [
                "e718aba5f4bacb2e"
            ]
        ]
    },
    {
        "id": "e4269c9d3d16ebee",
        "type": "ui_text",
        "z": "e1e77b44450f1dd2",
        "group": "d5ef06dc532029af",
        "order": 4,
        "width": "2",
        "height": "1",
        "name": "Celular",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 700,
        "y": 700,
        "wires": []
    },
    {
        "id": "7f196edf2f4a4954",
        "type": "ui_text",
        "z": "e1e77b44450f1dd2",
        "group": "f21b56b6783c0b27",
        "order": 15,
        "width": 2,
        "height": 1,
        "name": "Ape Status Umid",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 730,
        "y": 620,
        "wires": []
    },
    {
        "id": "b7799f9dcc5413dc",
        "type": "ui_text",
        "z": "e1e77b44450f1dd2",
        "group": "f21b56b6783c0b27",
        "order": 10,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "Umidd",
        "format": "{{msg.payload | number:1}} %",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 730,
        "y": 1380,
        "wires": []
    },
    {
        "id": "4f96256489139ae8",
        "type": "ui_text",
        "z": "e1e77b44450f1dd2",
        "group": "f21b56b6783c0b27",
        "order": 8,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "Temp",
        "format": "{{msg.payload | number:1}} °C ",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 728.1166381835938,
        "y": 1416.3944702148438,
        "wires": []
    },
    {
        "id": "f9f3f7fad7185b39",
        "type": "ui_text",
        "z": "e1e77b44450f1dd2",
        "group": "606728ffca968749",
        "order": 8,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "Temperatura",
        "format": "{{msg.payload | number:1}} °C ",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 958.133056640625,
        "y": 1363.2334594726562,
        "wires": []
    },
    {
        "id": "6933c3b21e29699f",
        "type": "ui_text",
        "z": "e1e77b44450f1dd2",
        "group": "d5ef06dc532029af",
        "order": 5,
        "width": "2",
        "height": "1",
        "name": "Celular",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 660,
        "y": 1820,
        "wires": []
    },
    {
        "id": "213a3fdf84bbe250",
        "type": "ui_text",
        "z": "e1e77b44450f1dd2",
        "group": "7ac0c575.b52f2c",
        "order": 4,
        "width": 2,
        "height": 1,
        "name": "Ape Status Umid",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 690,
        "y": 1740,
        "wires": []
    },
    {
        "id": "f9a0226f43f8d62e",
        "type": "ui_text",
        "z": "e1e77b44450f1dd2",
        "group": "d5ef06dc532029af",
        "order": 6,
        "width": "2",
        "height": "1",
        "name": "Celular",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 620,
        "y": 2120,
        "wires": []
    },
    {
        "id": "2f916c4575e16915",
        "type": "ui_text",
        "z": "e1e77b44450f1dd2",
        "group": "7ac0c575.b52f2c",
        "order": 9,
        "width": 2,
        "height": 1,
        "name": "Ape Status Umid",
        "label": "",
        "format": "{{msg.payload}}",
        "layout": "row-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 650,
        "y": 2040,
        "wires": []
    },
    {
        "id": "bd09d89088b43246",
        "type": "pushover",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "device": "",
        "title": "",
        "priority": 0,
        "sound": "",
        "url": "",
        "url_title": "",
        "html": false,
        "x": 720,
        "y": 920,
        "wires": []
    },
    {
        "id": "c19d01214aa806d4",
        "type": "pushover",
        "z": "e1e77b44450f1dd2",
        "name": "",
        "device": "",
        "title": "",
        "priority": 0,
        "sound": "",
        "url": "",
        "url_title": "",
        "html": false,
        "x": 380,
        "y": 1460,
        "wires": []
    },
    {
        "id": "990b916c899d5bfd",
        "type": "function",
        "z": "5aa2e463c314c682",
        "g": "b2ecce1dde5c9179",
        "name": "teste lampada",
        "func": "var now = new Date()\n\nhours =\tnow.getHours()\nmins =\tnow.getMinutes()\n\n//coleta informação da hora do nascer do sol\nsun_rise = global.get(\"g_sun_rise\")\n//  sun_rise = \"08:48:00\"\nsun_rise_hour = sun_rise.split(\":\")[0]\nsun_rise_mins = sun_rise.split(\":\")[1]\n\n//seta a hora e minuto para deligar a luz - 30 min depois do nascer do sol\ndesl_hours = parseInt(sun_rise_hour) \ndesl_mins = parseInt(sun_rise_mins) + 30\n\n\n// vefifica se a soma de minutos passou de 60, considerando que mudou de hora\nif (desl_mins >= 60){\n    desl_mins -= 60\n    desl_hours = parseInt(desl_hours) + 1\n}\n\n\nmsg.sun_rise = sun_rise\nmsg.desliga = desl_hours.toString().padStart(2,\"0\") + \":\" + desl_mins.toString().padStart(2,\"0\")\n\n// atualiza status da variavel local do swtich\nif(msg.topic === \"automatic_switch\"){\n    msg.switch = msg.payload\n    flow.set(\"f_switch_status\", msg.payload)\n    // return [msg, null]\n}\n\n//verifica se desliga eh maior deu run_rise para deligar a luz\nswitch_status = flow.get(\"f_switch_status\")\n// node.warn(\"automatizaçao:\\nswitch_status:\" + switch_status + \"\\nDesligar: \" + desl_hours.toString().padStart(2,\"0\") + \":\" + desl_mins.toString().padStart(2,\"0\") + \"\\nSun Rise: \" + sun_rise + \"\\nHora: \" + hours + \":\" + mins )\n\n// node.warn( t_hora + \":\" + t_min)\nif(switch_status === true){\n    // node.warn(\"entrou o if switch_status\")\n    if(desl_mins <= mins){\n        // node.warn(\"entrou o if desl_mins <= mins:\" + desl_mins + \"<=\" +  mins )\n        // node.warn(\"antes do if desl_hours === hours:\" + desl_hours + \"===\" + hours)\n        if(desl_hours === hours){\n            node.warn(\"desl_hours === hours:\" + desl_hours + \"===\" + hours)\n            msg.enviada = \"envia desliga\"\n            // msg2 = {payload: \"off\"}\n            msg.payload = \"0ff\"\n            return msg\n            // return [msg, msg2]\n        }\n    }\n}\n\n\n// return [msg, null]\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 380,
        "y": 160,
        "wires": [
            [
                "3bf400358b9cf137",
                "0bca8e77681fac0a"
            ]
        ]
    },
    {
        "id": "6f75674b4bbbe202",
        "type": "inject",
        "z": "5aa2e463c314c682",
        "g": "b2ecce1dde5c9179",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 180,
        "y": 160,
        "wires": [
            [
                "990b916c899d5bfd",
                "e478769d467697e7"
            ]
        ]
    },
    {
        "id": "3bf400358b9cf137",
        "type": "debug",
        "z": "5aa2e463c314c682",
        "g": "b2ecce1dde5c9179",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 590,
        "y": 100,
        "wires": []
    },
    {
        "id": "0bca8e77681fac0a",
        "type": "mqtt out",
        "z": "5aa2e463c314c682",
        "g": "b2ecce1dde5c9179",
        "name": "",
        "topic": "ape/corredor/luz/change",
        "qos": "",
        "retain": "",
        "broker": "25167bbc.e1295c",
        "x": 670,
        "y": 160,
        "wires": []
    },
    {
        "id": "e478769d467697e7",
        "type": "debug",
        "z": "5aa2e463c314c682",
        "g": "b2ecce1dde5c9179",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 190,
        "y": 80,
        "wires": []
    },
    {
        "id": "2f2131e5cfa03308",
        "type": "mqtt in",
        "z": "5aa2e463c314c682",
        "name": "",
        "topic": "ape/+/luz",
        "qos": "2",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 280,
        "y": 280,
        "wires": [
            [
                "066093c549d9defa"
            ]
        ]
    },
    {
        "id": "066093c549d9defa",
        "type": "debug",
        "z": "5aa2e463c314c682",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 440,
        "y": 280,
        "wires": []
    },
    {
        "id": "f5ac8db6d7913fc9",
        "type": "debug",
        "z": "5aa2e463c314c682",
        "g": "36e3bb5a0900f381",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 290,
        "y": 480,
        "wires": []
    },
    {
        "id": "28416886c85aed06",
        "type": "function",
        "z": "5aa2e463c314c682",
        "g": "36e3bb5a0900f381",
        "name": "",
        "func": "// msg.payload.params.on = false   = desliga\n// msg.payload.params.on = true     = liga\n// context.set(\"f_device[\"+x+\"]\" ,msg.payload.device)     = apgar\n// var count = context.get('f_count')||0; \n// usado so para referencia\n//################33\n\n\nif  (\n        (msg.payload.params.on === false && global.get(\"g_luz_quarto\") == \"on\") ||\n        (msg.payload.params.on === true && global.get(\"g_luz_quarto\") == \"off\")\n    ){\n    msg.payload = \"change\"\n     node.warn(\"entrou no if\");\n    return msg;\n}\n\n// return msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 280,
        "y": 580,
        "wires": [
            [
                "9872dfcbe9dd5070",
                "7a3313a228138e33"
            ]
        ]
    },
    {
        "id": "7a3313a228138e33",
        "type": "mqtt out",
        "z": "5aa2e463c314c682",
        "g": "36e3bb5a0900f381",
        "name": "",
        "topic": "ape/quarto/luz/change",
        "qos": "",
        "retain": "",
        "broker": "25167bbc.e1295c",
        "x": 540,
        "y": 500,
        "wires": []
    },
    {
        "id": "9872dfcbe9dd5070",
        "type": "debug",
        "z": "5aa2e463c314c682",
        "g": "36e3bb5a0900f381",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 460,
        "y": 580,
        "wires": []
    },
    {
        "id": "fb2181408e794a2d",
        "type": "debug",
        "z": "5aa2e463c314c682",
        "name": "f=true",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 700,
        "wires": []
    },
    {
        "id": "97e9a08af7068a39",
        "type": "delay",
        "z": "5aa2e463c314c682",
        "d": true,
        "name": "",
        "pauseType": "delay",
        "timeout": "1",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 320,
        "y": 720,
        "wires": [
            [
                "55007fa1cae1650f",
                "c5bfd729a7cbd88e"
            ]
        ]
    },
    {
        "id": "c5bfd729a7cbd88e",
        "type": "debug",
        "z": "5aa2e463c314c682",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload.params.on",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 570,
        "y": 720,
        "wires": []
    },
    {
        "id": "7be901efb8f0ed81",
        "type": "inject",
        "z": "5aa2e463c314c682",
        "name": "true",
        "props": [
            {
                "p": "teste",
                "v": "teste",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payloadType": "str",
        "x": 290,
        "y": 880,
        "wires": [
            [
                "4cd97e9a7659d2fb"
            ]
        ]
    },
    {
        "id": "47550fcd6ec18388",
        "type": "inject",
        "z": "5aa2e463c314c682",
        "name": "false",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 290,
        "y": 920,
        "wires": [
            [
                "ba56f8cbf1d987e3"
            ]
        ]
    },
    {
        "id": "4cd97e9a7659d2fb",
        "type": "function",
        "z": "5aa2e463c314c682",
        "name": "true",
        "func": "msg = {\n    // \"topic\": \"\",\n    // \"name\": \"Quarto\",\n    // \"deviceId\": \"5484\",\n    // \"_requestId\": \"10146922710406532939\",\n    // \"_raw\": {\n    //     \"requestId\": \"10146922710406532939\",\n    //     \"id\": \"5484\",\n    //     \"execution\": {\n    //         \"command\": \"action.devices.commands.OnOff\",\n    //         \"params\": {\n    //             \"on\": true,\n    //             \"online\": true\n    //         }\n    //     }\n    // },\n    // \"_confId\": \"9d8af240.e05a3\",\n    \"payload\": {\n        \"command\": \"action.devices.commands.OnOff\",\n        \"params\": {\n            \"on\": true,\n            \"online\": true\n        }\n    },\n    // \"_msgid\": \"eb0d9f1a.510b4\"\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 900,
        "wires": [
            [
                "35072a97177d358f",
                "81143afde361929a",
                "a9b90a7c4239f8ee"
            ]
        ]
    },
    {
        "id": "ba56f8cbf1d987e3",
        "type": "function",
        "z": "5aa2e463c314c682",
        "name": "false",
        "func": "msg = {\n    \"topic\": \"\",\n    // \"name\": \"Quarto\",\n    // \"deviceId\": \"5484\",\n    // \"_requestId\": \"10146922710406532939\",\n    // \"_raw\": {\n    //     \"requestId\": \"10146922710406532939\",\n    //     \"id\": \"5484\",\n    //     \"execution\": {\n    //         \"command\": \"action.devices.commands.OnOff\",\n    //         \"params\": {\n    //             \"on\": false,\n    //             \"online\": true\n    //         }\n    //     }\n    // },\n    // \"_confId\": \"9d8af240.e05a3\",\n    \"payload\": {\n        \"command\": \"action.devices.commands.OnOff\",\n        \"params\": {\n            \"on\": false,\n            \"online\": true\n        }\n    },\n    // \"_msgid\": \"eb0d9f1a.510b4\"\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 630,
        "y": 960,
        "wires": [
            [
                "35072a97177d358f",
                "bd80177cde09f381",
                "a9b90a7c4239f8ee"
            ]
        ]
    },
    {
        "id": "55007fa1cae1650f",
        "type": "function",
        "z": "5aa2e463c314c682",
        "name": "",
        "func": "// msg.payload.params.on = false   = desliga\n// msg.payload.params.on = true     = liga\n// context.set(\"f_device[\"+x+\"]\" ,msg.payload.device)     = apgar\n// var count = context.get('f_count')||0; \n// usado so para referencia\n//################33\n\n\nif(msg.payload.params.on === true){\n    delete msg.topic\n    delete msg.name\n    delete msg.deviceId\n    delete msg._requestId\n    delete msg._raw\n    delete msg._confId\n    delete msg.payload\n    delete msg._msgid\n    msg.payload = 1\n    return msg\n    \n}\n\n\nif(msg.payload.params.on === false){\n\n    delete msg.topic\n    delete msg.name\n    delete msg.deviceId\n    delete msg._requestId\n    delete msg._raw\n    delete msg._confId\n    delete msg.payload\n    delete msg._msgid\n    msg.payload = 0\n    return msg\n    \n}\n\n\n// return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 440,
        "y": 800,
        "wires": [
            [
                "fb2181408e794a2d",
                "ba56f8cbf1d987e3"
            ],
            [
                "39ff975d08fb1b25",
                "4cd97e9a7659d2fb"
            ]
        ]
    },
    {
        "id": "39ff975d08fb1b25",
        "type": "debug",
        "z": "5aa2e463c314c682",
        "name": "f=false",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 890,
        "y": 740,
        "wires": []
    },
    {
        "id": "81143afde361929a",
        "type": "debug",
        "z": "5aa2e463c314c682",
        "name": "true",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 1120,
        "wires": []
    },
    {
        "id": "bd80177cde09f381",
        "type": "debug",
        "z": "5aa2e463c314c682",
        "name": "false",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 870,
        "y": 1160,
        "wires": []
    },
    {
        "id": "b89adfbd3c92c7fd",
        "type": "mqtt in",
        "z": "5aa2e463c314c682",
        "name": "ape/quarto/luz",
        "topic": "ape/quarto/luz",
        "qos": "1",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 810,
        "y": 480,
        "wires": [
            [
                "88559cb17623c8ab",
                "fe6cef8cc6fbd604"
            ]
        ]
    },
    {
        "id": "88559cb17623c8ab",
        "type": "debug",
        "z": "5aa2e463c314c682",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 970,
        "y": 440,
        "wires": []
    },
    {
        "id": "0698b74192a46284",
        "type": "function",
        "z": "5aa2e463c314c682",
        "name": "true",
        "func": "msg = {\n    // \"topic\": \"\",\n    // \"name\": \"Quarto\",\n    // \"deviceId\": \"5484\",\n    // \"_requestId\": \"10146922710406532939\",\n    // \"_raw\": {\n    //     \"requestId\": \"10146922710406532939\",\n    //     \"id\": \"5484\",\n    //     \"execution\": {\n    //         \"command\": \"action.devices.commands.OnOff\",\n    //         \"params\": {\n    //             \"on\": true,\n    //             \"online\": true\n    //         }\n    //     }\n    // },\n    // \"_confId\": \"9d8af240.e05a3\",\n    \"payload\": {\n        \"command\": \"action.devices.commands.OnOff\",\n        \"params\": {\n            \"on\": true,\n            \"online\": true\n        }\n    },\n    // \"_msgid\": \"eb0d9f1a.510b4\"\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1150,
        "y": 540,
        "wires": [
            [
                "541fcb82b0aaf45b",
                "d3d43ca80f5c7caa"
            ]
        ]
    },
    {
        "id": "ab9cdde81e283737",
        "type": "function",
        "z": "5aa2e463c314c682",
        "name": "false",
        "func": "msg = {\n    \"topic\": \"\",\n    // \"name\": \"Quarto\",\n    // \"deviceId\": \"5484\",\n    // \"_requestId\": \"10146922710406532939\",\n    // \"_raw\": {\n    //     \"requestId\": \"10146922710406532939\",\n    //     \"id\": \"5484\",\n    //     \"execution\": {\n    //         \"command\": \"action.devices.commands.OnOff\",\n    //         \"params\": {\n    //             \"on\": false,\n    //             \"online\": true\n    //         }\n    //     }\n    // },\n    // \"_confId\": \"9d8af240.e05a3\",\n    \"payload\": {\n        \"command\": \"action.devices.commands.OnOff\",\n        \"params\": {\n            \"on\": false,\n            \"online\": true\n        }\n    },\n    // \"_msgid\": \"eb0d9f1a.510b4\"\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 1130,
        "y": 480,
        "wires": [
            [
                "541fcb82b0aaf45b",
                "d3d43ca80f5c7caa"
            ]
        ]
    },
    {
        "id": "fe6cef8cc6fbd604",
        "type": "function",
        "z": "5aa2e463c314c682",
        "name": "",
        "func": "// msg.payload.params.on = false   = desliga\n// msg.payload.params.on = true     = liga\n// context.set(\"f_device[\"+x+\"]\" ,msg.payload.device)     = apgar\n// var count = context.get('f_count')||0; \n// usado so para referencia\n//################33\n\nif(msg.payload ==  \"on\"){\n// if(msg.payload.params.on === true){\n    delete msg.topic\n    delete msg.name\n    delete msg.deviceId\n    delete msg._requestId\n    delete msg._raw\n    delete msg._confId\n    delete msg.payload\n    delete msg._msgid\n    msg.payload = 1\n    return msg\n    \n}\n\nif(msg.payload ==  \"off\"){\n// if(msg.payload.params.on === false){\n\n    delete msg.topic\n    delete msg.name\n    delete msg.deviceId\n    delete msg._requestId\n    delete msg._raw\n    delete msg._confId\n    delete msg.payload\n    delete msg._msgid\n    msg.payload = 0\n    return msg\n    \n}\n\n\n// return msg;",
        "outputs": 2,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 980,
        "y": 480,
        "wires": [
            [
                "ab9cdde81e283737"
            ],
            [
                "0698b74192a46284"
            ]
        ]
    },
    {
        "id": "d3d43ca80f5c7caa",
        "type": "debug",
        "z": "5aa2e463c314c682",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1330,
        "y": 580,
        "wires": []
    },
    {
        "id": "c555c5cd7b1c0448",
        "type": "ui_switch",
        "z": "5aa2e463c314c682",
        "g": "b2ecce1dde5c9179",
        "name": "",
        "label": "Smart Off",
        "tooltip": "",
        "group": "7ac0c575.b52f2c",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "automatic_switch",
        "topicType": "str",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": true,
        "className": "",
        "x": 400,
        "y": 80,
        "wires": [
            [
                "990b916c899d5bfd"
            ]
        ]
    },
    {
        "id": "d72a17ea060f4ad9",
        "type": "google-home",
        "z": "5aa2e463c314c682",
        "g": "36e3bb5a0900f381",
        "conf": "9d8af240.e05a3",
        "device": "5484",
        "acknowledge": true,
        "name": "Quarto",
        "topic": "",
        "x": 130,
        "y": 480,
        "wires": [
            [
                "f5ac8db6d7913fc9",
                "28416886c85aed06",
                "97e9a08af7068a39"
            ]
        ]
    },
    {
        "id": "a9b90a7c4239f8ee",
        "type": "google-home-response",
        "z": "5aa2e463c314c682",
        "d": true,
        "conf": "9d8af240.e05a3",
        "device": "5484",
        "name": "Quarto",
        "x": 930,
        "y": 860,
        "wires": []
    },
    {
        "id": "35072a97177d358f",
        "type": "google-home-response",
        "z": "5aa2e463c314c682",
        "conf": "9d8af240.e05a3",
        "device": "5488",
        "name": "teste",
        "x": 870,
        "y": 940,
        "wires": []
    },
    {
        "id": "541fcb82b0aaf45b",
        "type": "google-home-response",
        "z": "5aa2e463c314c682",
        "conf": "9d8af240.e05a3",
        "device": "5484",
        "name": "Quarto",
        "x": 1310,
        "y": 520,
        "wires": []
    },
    {
        "id": "e0227020e2b7bb58",
        "type": "json",
        "z": "be470d6210457a9f",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 350,
        "y": 380,
        "wires": [
            [
                "7094823613bef30d",
                "004842a79fac4772",
                "aa9308d5487eb666",
                "6f892de8957d33d2"
            ]
        ]
    },
    {
        "id": "82b34ba6af9b30ec",
        "type": "switch",
        "z": "be470d6210457a9f",
        "name": "",
        "property": "payload.device",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "ape/quarto",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ape/teste",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ape/varanda",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ape/corredor",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ape/sala",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ape/quartom",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "ape/quartom2",
                "vt": "str"
            },
            {
                "t": "nnull"
            }
        ],
        "checkall": "false",
        "repair": false,
        "outputs": 8,
        "x": 770,
        "y": 380,
        "wires": [
            [
                "bb37f2527840df8e"
            ],
            [
                "e796562697ab6454"
            ],
            [
                "62ec279c85f47c97"
            ],
            [
                "7787e1d3cbec89ea"
            ],
            [
                "8cc6933901fec2e4"
            ],
            [
                "618ecfdb6dd969ee"
            ],
            [
                "9e1096c7717d4410"
            ],
            [
                "d9c7023687a505e3"
            ]
        ]
    },
    {
        "id": "338da75c745169cc",
        "type": "mqtt in",
        "z": "be470d6210457a9f",
        "name": "",
        "topic": "ape/status",
        "qos": "2",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 180,
        "y": 380,
        "wires": [
            [
                "dc92bc51c9a92ac3",
                "e0227020e2b7bb58"
            ]
        ]
    },
    {
        "id": "aa9308d5487eb666",
        "type": "function",
        "z": "be470d6210457a9f",
        "name": "Send Disconect",
        "func": "if (msg.payload.status === \"red\")\n{\n    msg.topic = msg.payload.device;\n    msg.enabled = false;\n    msg.payload = \"disconnect\"\n    return msg;\n}\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 580,
        "y": 500,
        "wires": [
            [
                "b55e7d43f7c6898a"
            ]
        ]
    },
    {
        "id": "b55e7d43f7c6898a",
        "type": "mqtt out",
        "z": "be470d6210457a9f",
        "name": "",
        "topic": "",
        "qos": "",
        "retain": "",
        "broker": "25167bbc.e1295c",
        "x": 770,
        "y": 500,
        "wires": []
    },
    {
        "id": "dc92bc51c9a92ac3",
        "type": "debug",
        "z": "be470d6210457a9f",
        "name": "Status_json",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 290,
        "y": 480,
        "wires": []
    },
    {
        "id": "004842a79fac4772",
        "type": "function",
        "z": "be470d6210457a9f",
        "name": "Salva_variaveis",
        "func": "/* salva os status de ip e versao da msg para replicar na desconexão */\n\nmsg.payload.date = new Date() //substituindo o insert timestamp, \n\nvar count = context.get('f_count')||0;\nvar count1 = count\nvar device_id_num = \"NOK\"\n\n\nfor (var x = 0; x <= count; x++){\n    if(count === 0){\n        context.set(\"f_device[\"+x+\"]\" ,msg.payload.device)\n        count++\n        context.set(\"f_count\", count)\n        device_id_num = x\n        break; \n    }\n\n    if (context.get(\"f_device[\"+x+\"]\") === msg.payload.device){\n        device_id_num = x\n        break; \n    }\n}\n\nif(msg.payload.status === \"green\"){\n    if(device_id_num === \"NOK\"){\n        context.set(\"f_device[\"+count+\"]\",msg.payload.device)\n        count++\n        context.set(\"f_count\", count)\n        context.set(\"f_versao[\"+count+\"]\",msg.payload.ver)\n        context.set(\"f_ip[\"+count+\"]\",msg.payload.ip)\n    } else {\n        context.set(\"f_versao[\"+device_id_num+\"]\",msg.payload.ver)\n        context.set(\"f_ip[\"+device_id_num+\"]\",msg.payload.ip)\n    }\n} else {\n    msg.payload.ver = context.get(\"f_versao[\"+device_id_num+\"]\")\n    msg.payload.ip = context.get(\"f_ip[\"+device_id_num+\"]\")\n}\n\n\nreturn msg\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 560,
        "y": 380,
        "wires": [
            [
                "82b34ba6af9b30ec",
                "6029440084859d71"
            ]
        ]
    },
    {
        "id": "7094823613bef30d",
        "type": "debug",
        "z": "be470d6210457a9f",
        "name": "Status_json",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 550,
        "y": 320,
        "wires": []
    },
    {
        "id": "6029440084859d71",
        "type": "debug",
        "z": "be470d6210457a9f",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 750,
        "y": 240,
        "wires": []
    },
    {
        "id": "5696b6c8cd08c652",
        "type": "inject",
        "z": "be470d6210457a9f",
        "name": "clear",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1010,
        "y": 520,
        "wires": [
            [
                "d9c7023687a505e3"
            ]
        ]
    },
    {
        "id": "98a7edfe02ad675a",
        "type": "debug",
        "z": "be470d6210457a9f",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1530,
        "y": 320,
        "wires": []
    },
    {
        "id": "8326cb640cb90d5f",
        "type": "comment",
        "z": "be470d6210457a9f",
        "name": "G1",
        "info": "",
        "x": 1050,
        "y": 120,
        "wires": []
    },
    {
        "id": "6f892de8957d33d2",
        "type": "function",
        "z": "be470d6210457a9f",
        "name": "Calculo tempo desconectado",
        "func": "var now = new Date();   // current time\nvar count = context.get('f_count')||0;\n\n// ###################################\nvar time_old = context.get(\"f_time_old\")\n\nif(msg.topic === \"set_time\"){\n    context.set(\"f_time_old\", now)\n}\n\n// ##################################\nfor (var x = 0; x <= count; x++){\n    if(count === x){\n        context.set(\"f_device[\"+x+\"]\" ,msg.payload.device)\n        count++\n        context.set(\"f_count\", count)\n        device_id_num = x\n        break; \n    }\n\n    if (context.get(\"f_device[\"+x+\"]\") === msg.payload.device){\n        device_id_num = x\n        break; \n    }\n\n}\n\nvar time_off = context.get(\"time_off[\"+device_id_num+\"]\") || 0 \n\nif (msg.payload.status === \"red\"){\n    if(time_off === 0){\n        context.set(\"time_off[\"+device_id_num+\"]\", now)\n        \n        // ####################333\n        context.set(\"time_off[\"+device_id_num+\"]\", time_old)\n        // ####################333\n        \n        \n        node.warn(\"iniciou coleta tempo desconectado para device \" + msg.payload.device + \" as \" + now);\n    }\n} else if (msg.payload.status === \"green\"){\n    \n    if(time_off !== 0){\n\n\n        start = time_off\n        Start_day =\t\tstart.getDate()\n        Start_month =\tstart.getMonth() + 1\n        Start_year =\tstart.getFullYear()\n        Start_hours =\tstart.getHours()\n        Start_mins =\tstart.getMinutes()\n\n        Fim_day =\tnow.getDate()\n        Fim_month =\tnow.getMonth() + 1\n        Fim_year =\tnow.getFullYear()\n        Fim_hours =\tnow.getHours()\n        Fim_mins =\tnow.getMinutes()\n\n///#####################\n        Fim_hours = 11\n///#####################\n\n        node.warn(\"finalizou coleta tempo device \" +msg.payload.device+\"\\ndesconexão = \" + context.get(\"time_off[\"+device_id_num+\"]\") + \"\\nconexão =  \" + now );\n    \n        msg.tempo_desconectado = Math.round((now - context.get(\"time_off[\"+device_id_num+\"]\"))/1000/60)\n        msg.dia = Start_year +\"-\"+ Start_month +\"-\"+ Start_day\n    \n        context.set(\"time_off[\"+device_id_num+\"]\", 0)\n\n        return msg\n            \n        \n    }\n}\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 580,
        "y": 600,
        "wires": [
            [
                "5d7fed706a18c6aa",
                "80cc19c2085a366e"
            ]
        ],
        "info": "if ( !msg.timestamp ) msg.timestamp = Math.round(+new Date());\n\nvar dt = new Date(msg.timestamp);\nvar msg = {\n\t'month':\tdt.getMonth() + 1,\n\t'day':\t\tdt.getDate(),\n\t'year':\t\tdt.getFullYear(),\n\t'hours':\tdt.getHours(),\n\t'mins':\t\tdt.getMinutes(),\n\t'msecs':\tdt.getMilliseconds()\n}\n\nreturn msg;"
    },
    {
        "id": "5d7fed706a18c6aa",
        "type": "function",
        "z": "be470d6210457a9f",
        "name": "http post data",
        "func": "var sLocalidade = msg.payload.device\nvar sTempoDesconectado = msg.tempo_desconectado\n\n\n\nmsg.headers = {'content-type':'application/x-www-form-urlencoded'};\nmsg.payload = { api_key: \"api_key_value\", table:\"TempoDesconectado\", localidade: sLocalidade, tempodesconectado: sTempoDesconectado};\nreturn msg\n\n\n\n \n",
        "outputs": 1,
        "noerr": 0,
        "x": 820,
        "y": 600,
        "wires": [
            [
                "31c97a29d83196b0"
            ]
        ]
    },
    {
        "id": "31c97a29d83196b0",
        "type": "http request",
        "z": "be470d6210457a9f",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": false,
        "url": "http://localhost/post-esp-data.php",
        "tls": "",
        "proxy": "",
        "authType": "",
        "x": 990,
        "y": 600,
        "wires": [
            []
        ]
    },
    {
        "id": "80cc19c2085a366e",
        "type": "debug",
        "z": "be470d6210457a9f",
        "name": "Status_json",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "x": 810,
        "y": 660,
        "wires": []
    },
    {
        "id": "412e4b063244f04f",
        "type": "inject",
        "z": "be470d6210457a9f",
        "name": "set_time",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "set_time",
        "payload": "{\"device\":\"ape/teste\",\"status\":\"red\"}",
        "payloadType": "str",
        "x": 460,
        "y": 660,
        "wires": [
            [
                "6f892de8957d33d2"
            ]
        ]
    },
    {
        "id": "d3e1f3fd4707082c",
        "type": "inject",
        "z": "be470d6210457a9f",
        "name": "red-quartom",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "ape/status",
        "payload": "{\"device\":\"ape/quartom1\",\"status\":\"red\"}",
        "payloadType": "str",
        "x": 170,
        "y": 280,
        "wires": [
            [
                "e0227020e2b7bb58"
            ]
        ]
    },
    {
        "id": "fbd86afbc716c57e",
        "type": "inject",
        "z": "be470d6210457a9f",
        "name": "red-quartom",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "ape/status",
        "payload": "{\"ip\":\"192.168.15.46\",\"device\":\"ape/sala123\",\"up\":\"0d 00:00\",\"reset\":\"68\",\"ver\":\"3.5.7D5\",\"status\":\"green\"}",
        "payloadType": "str",
        "x": 190,
        "y": 220,
        "wires": [
            [
                "e0227020e2b7bb58"
            ]
        ]
    },
    {
        "id": "1a85054fe48ab846",
        "type": "ui_button",
        "z": "be470d6210457a9f",
        "name": "Clear",
        "group": "c5ede3b960b4a656",
        "order": 4,
        "width": 4,
        "height": 1,
        "passthru": false,
        "label": "Clear",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "topicType": "str",
        "x": 930,
        "y": 480,
        "wires": [
            [
                "d9c7023687a505e3"
            ]
        ]
    },
    {
        "id": "e796562697ab6454",
        "type": "ui_template",
        "z": "be470d6210457a9f",
        "group": "d3133e84b2df0f0a",
        "name": "ape/teste",
        "order": 1,
        "width": 4,
        "height": 4,
        "format": "<svg width=\"180\" height=\"35\">\n    \n    <circle id=\"circle1\" cx=\"20\" cy=\"20\" r=\"10\"\n            style=\"stroke: none; fill: {{msg.payload.status}}\"/>\n    <text font-size=\"18px\" font-weight=\"bold\" \n            x=\"48\" y=\"25\"  fill=\"white\">{{msg.payload.device}}</text>\n</svg>\n\n\n<table width=180px>\n\n  <tr>\n    <td>IP</td>\n    <td align=\"right\"><B>{{msg.payload.ip}}</B></td>\n  </tr>\n  <tr>\n    <td>UpTime</td>\n    <td align=\"right\"><B>{{msg.payload.up}}</B></td>\n  </tr>\n  <tr>\n    <td>Reset</td>\n    <td align=\"right\"><B>{{msg.payload.reset}}</B></td>\n  </tr>\n  <tr>\n    <td>Versao</td>\n    <td align=\"right\"><B>{{msg.payload.ver}}</B></td>\n  </tr>\n  <tr>\n    <td>UpDate</td>\n    <td align=\"right\"><B>{{msg.payload.date | date:'dd/MM - HH:mm'}}</B></td>\n  </tr>\n</table>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1160,
        "y": 280,
        "wires": [
            [
                "98a7edfe02ad675a"
            ]
        ]
    },
    {
        "id": "bb37f2527840df8e",
        "type": "ui_template",
        "z": "be470d6210457a9f",
        "group": "5f61f5e7481d3864",
        "name": "ape/quarto",
        "order": 1,
        "width": 4,
        "height": 4,
        "format": "<svg width=\"180\" height=\"35\">\n    \n    <circle id=\"circle1\" cx=\"20\" cy=\"20\" r=\"10\"\n            style=\"stroke: none; fill: {{msg.payload.status}}\"/>\n    <text font-size=\"18px\" font-weight=\"bold\" \n            x=\"48\" y=\"25\"  fill=\"white\">{{msg.payload.device}}</text>\n</svg>\n<table width=180px>\n\n  <tr>\n    <td>IP</td>\n    <td align=\"right\"><B>{{msg.payload.ip}}</B></td>\n  </tr>\n  <tr>\n    <td>UpTime</td>\n    <td align=\"right\"><B>{{msg.payload.up}}</B></td>\n  </tr>\n  <tr>\n    <td>Reset</td>\n    <td align=\"right\"><B>{{msg.payload.reset}}</B></td>\n  </tr>\n    <tr>\n    <td>Versao</td>\n    <td align=\"right\"><B>{{msg.payload.ver}}</B></td>\n  </tr>\n  <tr>\n    <td>UpDate</td>\n    <td align=\"right\"><B>{{msg.payload.date | date:'dd/MM - HH:mm'}}</B></td>\n  </tr>\n</table>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1070,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "62ec279c85f47c97",
        "type": "ui_template",
        "z": "be470d6210457a9f",
        "group": "c5ede3b960b4a656",
        "name": "Ape/Varanda",
        "order": 1,
        "width": 4,
        "height": 4,
        "format": "<svg width=\"180\" height=\"35\">\n    \n    <circle id=\"circle1\" cx=\"20\" cy=\"20\" r=\"10\"\n            style=\"stroke: none; fill: {{msg.payload.status}}\"/>\n    <text font-size=\"18px\" font-weight=\"bold\" \n            x=\"48\" y=\"25\"  fill=\"white\">{{msg.payload.device}}</text>\n</svg>\n<table width=180px>\n\n  <tr>\n    <td>IP</td>\n     <td align=\"right\"><B>{{msg.payload.ip}}</B></td>\n  </tr>\n  <tr>\n    <td>UpTime</td>\n    <td align=\"right\"><B>{{msg.payload.up}}</B></td>\n  </tr>\n  <tr>\n    <td>Reset</td>\n    <td align=\"right\"><B>{{msg.payload.reset}}</B></td>\n  </tr>\n    <tr>\n    <td>Versao</td>\n    <td align=\"right\"><B>{{msg.payload.ver}}</B></td>\n  </tr>\n  <tr>\n    <td>UpDate</td>\n    <td align=\"right\"><B>{{msg.payload.date | date:'dd/MM - HH:mm'}}</B></td>\n  </tr>\n</table>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1070,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "7787e1d3cbec89ea",
        "type": "ui_template",
        "z": "be470d6210457a9f",
        "group": "5f61f5e7481d3864",
        "name": "ape/corredor",
        "order": 2,
        "width": 4,
        "height": 4,
        "format": "\n<svg width=\"180\" height=\"35\">\n    \n    <circle id=\"circle1\" cx=\"20\" cy=\"20\" r=\"10\"\n            style=\"stroke: none; fill: {{msg.payload.status}}\"/>\n    <text font-size=\"18px\" font-weight=\"bold\" \n            x=\"48\" y=\"25\"  fill=\"white\">{{msg.payload.device}}</text>\n</svg>\n<table width=180px>\n\n  <tr>\n    <td>IP</td>\n     <td align=\"right\"><B>{{msg.payload.ip}}</B></td>\n  </tr>\n  <tr>\n    <td>UpTime</td>\n    <td align=\"right\"><B>{{msg.payload.up}}</B></td>\n  </tr>\n  <tr>\n    <td>Reset</td>\n    <td align=\"right\"><B>{{msg.payload.reset}}</B></td>\n  </tr>\n    <tr>\n    <td>Versao</td>\n    <td align=\"right\"><B>{{msg.payload.ver}}</B></td>\n  </tr>\n  <tr>\n    <td>UpDate</td>\n    <td align=\"right\"><B>{{msg.payload.date | date:'dd/MM - HH:mm'}}</B></td>\n  </tr>\n</table>\n\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1070,
        "y": 200,
        "wires": [
            []
        ]
    },
    {
        "id": "8cc6933901fec2e4",
        "type": "ui_template",
        "z": "be470d6210457a9f",
        "group": "d3133e84b2df0f0a",
        "name": "ape/sala",
        "order": 2,
        "width": 4,
        "height": 4,
        "format": "<svg width=\"180\" height=\"35\">\n    \n    <circle id=\"circle1\" cx=\"20\" cy=\"20\" r=\"10\"\n            style=\"stroke: none; fill: {{msg.payload.status}}\"/>\n    <text font-size=\"18px\" font-weight=\"bold\" \n            x=\"48\" y=\"25\"  fill=\"white\">{{msg.payload.device}}</text>\n</svg>\n<table width=180px>\n\n  <tr>\n    <td>IP</td>\n     <td align=\"right\"><B>{{msg.payload.ip}}</B></td>\n  </tr>\n  <tr>\n    <td>UpTime</td>\n    <td align=\"right\"><B>{{msg.payload.up}}</B></td>\n  </tr>\n  <tr>\n    <td>Reset</td>\n    <td align=\"right\"><B>{{msg.payload.reset}}</B></td>\n  </tr>\n    <tr>\n    <td>Versao</td>\n    <td align=\"right\"><B>{{msg.payload.ver}}</B></td>\n  </tr>\n  <tr>\n    <td>UpDate</td>\n    <td align=\"right\"><B>{{msg.payload.date | date:'dd/MM - HH:mm'}}</B></td>\n  </tr>\n</table>\n\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1160,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "618ecfdb6dd969ee",
        "type": "ui_template",
        "z": "be470d6210457a9f",
        "group": "c5ede3b960b4a656",
        "name": "ape/quartom",
        "order": 2,
        "width": 4,
        "height": 4,
        "format": "<svg width=\"180\" height=\"35\">\n    \n    <circle id=\"circle1\" cx=\"20\" cy=\"20\" r=\"10\"\n            style=\"stroke: none; fill: {{msg.payload.status}}\"/>\n    <text font-size=\"18px\" font-weight=\"bold\" \n            x=\"48\" y=\"25\"  fill=\"white\">{{msg.payload.device}}</text>\n</svg>\n<table width=180px>\n\n  <tr>\n    <td>IP</td>\n     <td align=\"right\"><B>{{msg.payload.ip}}</B></td>\n  </tr>\n  <tr>\n    <td>UpTime</td>\n    <td align=\"right\"><B>{{msg.payload.up}}</B></td>\n  </tr>\n  <tr>\n    <td>Reset</td>\n    <td align=\"right\"><B>{{msg.payload.reset}}</B></td>\n  </tr>\n    <tr>\n    <td>Versao</td>\n    <td align=\"right\"><B>{{msg.payload.ver}}</B></td>\n  </tr>\n  <tr>\n    <td>UpDate</td>\n    <td align=\"right\"><B>{{msg.payload.date | date:'dd/MM - HH:mm'}}</B></td>\n  </tr>\n</table>\n\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1070,
        "y": 400,
        "wires": [
            []
        ]
    },
    {
        "id": "d9c7023687a505e3",
        "type": "ui_template",
        "z": "be470d6210457a9f",
        "group": "c5ede3b960b4a656",
        "name": "",
        "order": 3,
        "width": 4,
        "height": 4,
        "format": "<svg width=\"180\" height=\"35\">\n    \n    <circle id=\"circle1\" cx=\"20\" cy=\"20\" r=\"10\"\n            style=\"stroke: none; fill: {{msg.payload.status}}\"/>\n    <text font-size=\"18px\" font-weight=\"bold\" \n            x=\"48\" y=\"25\"  fill=\"white\">{{msg.payload.device || \"new device\"}}</text>\n</svg>\n<table width=180px>\n\n  <tr>\n    <td>IP</td>\n     <td align=\"right\"><B>{{msg.payload.ip}}</B></td>\n  </tr>\n  <tr>\n    <td>UpTime</td>\n    <td align=\"right\"><B>{{msg.payload.up}}</B></td>\n  </tr>\n  <tr>\n    <td>Reset</td>\n    <td align=\"right\"><B>{{msg.payload.reset}}</B></td>\n  </tr>\n    <tr>\n    <td>Versao</td>\n    <td align=\"right\"><B>{{msg.payload.ver}}</B></td>\n  </tr>\n  <tr>\n    <td>UpDate</td>\n    <td align=\"right\"><B>{{msg.payload.date | date:'dd/MM - HH:mm'}}</B></td>\n  </tr>\n</table>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1060,
        "y": 440,
        "wires": [
            []
        ]
    },
    {
        "id": "9e1096c7717d4410",
        "type": "ui_template",
        "z": "be470d6210457a9f",
        "group": "5f61f5e7481d3864",
        "name": "ape/quartom2",
        "order": 3,
        "width": 4,
        "height": 4,
        "format": "<svg width=\"180\" height=\"35\">\n    \n    <circle id=\"circle1\" cx=\"20\" cy=\"20\" r=\"10\"\n            style=\"stroke: none; fill: {{msg.payload.status}}\"/>\n    <text font-size=\"18px\" font-weight=\"bold\" \n            x=\"48\" y=\"25\"  fill=\"white\">{{msg.payload.device}}</text>\n</svg>\n<table width=180px>\n\n  <tr>\n    <td>IP</td>\n     <td align=\"right\"><B>{{msg.payload.ip}}</B></td>\n  </tr>\n  <tr>\n    <td>UpTime</td>\n    <td align=\"right\"><B>{{msg.payload.up}}</B></td>\n  </tr>\n  <tr>\n    <td>Reset</td>\n    <td align=\"right\"><B>{{msg.payload.reset}}</B></td>\n  </tr>\n    <tr>\n    <td>Versao</td>\n    <td align=\"right\"><B>{{msg.payload.ver}}</B></td>\n  </tr>\n  <tr>\n    <td>UpDate</td>\n    <td align=\"right\"><B>{{msg.payload.date | date:'dd/MM - HH:mm'}}</B></td>\n  </tr>\n</table>\n\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1080,
        "y": 240,
        "wires": [
            []
        ]
    },
    {
        "id": "5e528983d7b05b8a",
        "type": "inject",
        "z": "97567b6a1a314f9d",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "3600",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 310,
        "y": 760,
        "wires": [
            [
                "4d2d4534f3720849"
            ]
        ]
    },
    {
        "id": "4d2d4534f3720849",
        "type": "function",
        "z": "97567b6a1a314f9d",
        "name": "",
        "func": "msg.payload = new Date().toLocaleTimeString();\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 490,
        "y": 760,
        "wires": [
            [
                "1876684a0de0ce8b",
                "b2abc65a4fdd7b64"
            ]
        ]
    },
    {
        "id": "ed9653f6dc6caae6",
        "type": "inject",
        "z": "97567b6a1a314f9d",
        "name": "",
        "repeat": "420",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 240,
        "wires": [
            [
                "9dc90875f2a776bc"
            ]
        ]
    },
    {
        "id": "9dc90875f2a776bc",
        "type": "http request",
        "z": "97567b6a1a314f9d",
        "name": "GET ClimaTempo Atual",
        "method": "GET",
        "ret": "obj",
        "paytoqs": false,
        "url": "http://apiadvisor.climatempo.com.br/api/v1/weather/locale/3477/current?token=6437f1eb0ce7916ac9dcf5338023d66d",
        "tls": "",
        "proxy": "",
        "authType": "",
        "x": 430,
        "y": 240,
        "wires": [
            [
                "d36a35aeac9d301c",
                "2cdaa31f695cce9d",
                "46d7b3d0026e044f"
            ]
        ]
    },
    {
        "id": "d36a35aeac9d301c",
        "type": "function",
        "z": "97567b6a1a314f9d",
        "name": "http post data",
        "func": "var sTopico = \"externo\"     // editar para outro comodo - usado para o grafico\nvar sSensor = \"climaTempo\"\nvar sTemperatura = msg.payload.data.temperature\nvar sUmidade = msg.payload.data.humidity\n\nif(msg.payload !== \"input\") {\n\n    if(msg.payload.u !== \"0.00\" && msg.payload.t !== \"0.00\"){\n        msg.headers = {'content-type':'application/x-www-form-urlencoded'};\n        msg.payload = { api_key: \"api_key_value\", table:\"Clima\", localidade: sTopico, sensor:sSensor, temperatura: sTemperatura, umidade: sUmidade};\n        return msg\n\n    }\n\n}\n\n \n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 700,
        "y": 240,
        "wires": [
            [
                "f1a65124ae4c6e7e",
                "033d4e865e48bee2"
            ]
        ]
    },
    {
        "id": "f1a65124ae4c6e7e",
        "type": "http request",
        "z": "97567b6a1a314f9d",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": "ignore",
        "url": "http://localhost/post-esp-data.php",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 910,
        "y": 240,
        "wires": [
            [
                "ef49aae166d49852"
            ]
        ]
    },
    {
        "id": "a608e0d254046a2b",
        "type": "http request",
        "z": "97567b6a1a314f9d",
        "name": "GET ClimaTempo Previsão",
        "method": "GET",
        "ret": "obj",
        "paytoqs": "ignore",
        "url": "http://apiadvisor.climatempo.com.br/api/v1/forecast/locale/3477/days/15?token=6437f1eb0ce7916ac9dcf5338023d66d",
        "tls": "",
        "persist": false,
        "proxy": "",
        "authType": "",
        "x": 482,
        "y": 365.0000228881836,
        "wires": [
            [
                "2cdaa31f695cce9d",
                "e94ed66b6bb5bfc4"
            ]
        ]
    },
    {
        "id": "3823179f0856d6a5",
        "type": "inject",
        "z": "97567b6a1a314f9d",
        "name": "every day 00:01",
        "repeat": "",
        "crontab": "01 00 * * *",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 192,
        "y": 365.0000228881836,
        "wires": [
            [
                "a608e0d254046a2b"
            ]
        ]
    },
    {
        "id": "2cdaa31f695cce9d",
        "type": "function",
        "z": "97567b6a1a314f9d",
        "name": "",
        "func": "var now = new Date();\nupdate = now.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});\n\n\nif (msg.payload.data.temperature !== undefined){\n    //msg de tempo atual\n    var payload = {\n        \"name\": msg.payload.name,\n        \"state\": msg.payload.state,\n        \"update\": update,\n        \"data\": {\n            \"temperature\": msg.payload.data.temperature,\n            \"humidity\": msg.payload.data.humidity,\n            \"condition\": msg.payload.data.condition,\n            \"icon\": msg.payload.data.icon,\n        }\n        \n    }\n    context.set(\"today\", payload)\n    \n    var forecast = context.get(\"forecast\") || undefined\n    if (forecast !== undefined){\n        payload.data[1] = forecast.data[1]\n        payload.data[0] = forecast.data[0]\n    }\n} else {\n    //msg de tempo dia seguinte\n    global.set(\"g_sun_rise\", msg.payload.data[0].sun.sunrise)\n    payload = {\n        \"name\": msg.payload.name,\n        \"state\": msg.payload.state,\n        \"update\": update,\n\t\t\"data\": [\n\n\t\t\t{ \n\t\t\t\t\"temperature\": {\n\t\t\t\t\t\t\"min\": msg.payload.data[0].temperature.min,\n\t\t\t\t\t\t\"max\": msg.payload.data[0].temperature.max,\n\t\t\t\t},\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"rain\": {\n\t\t\t\t\t\"probability\": msg.payload.data[1].rain.probability,\n\t\t\t\t\t\"precipitation\": msg.payload.data[1].rain.precipitation\n\t\t\t\t},\n\t\t\t\t\n\t\t\t\t\"text_icon\": {\n\t\t\t\t\t\"icon\": {\n\t\t\t\t\t\t\"morning\": msg.payload.data[1].text_icon.icon.morning,\n\t\t\t\t\t\t\"afternoon\": msg.payload.data[1].text_icon.icon.afternoon,\n\t\t\t\t\t\t\"night\": msg.payload.data[1].text_icon.icon.night,\n\t\t\t\t\t},\n\t\t\t\t\t\"text\": {\n\t\t\t\t\t\t\"pt\": msg.payload.data[1].text_icon.text.pt,\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t\"temperature\": {\n\t\t\t\t\t\"morning\": {\n\t\t\t\t\t\t\"min\": msg.payload.data[1].temperature.morning.min,\n\t\t\t\t\t\t\"max\": msg.payload.data[1].temperature.morning.max,\n\t\t\t\t\t},\n\t\t\t\t\t\"afternoon\": {\n\t\t\t\t\t\t\"min\": msg.payload.data[1].temperature.afternoon.min,\n\t\t\t\t\t\t\"max\": msg.payload.data[1].temperature.afternoon.max,\n\t\t\t\t\t},\n\t\t\t\t\t\"night\": {\n\t\t\t\t\t\t\"min\": msg.payload.data[1].temperature.night.min,\n\t\t\t\t\t\t\"max\": msg.payload.data[1].temperature.night.max,\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t},\n\t\t]\n    }\n    context.set(\"forecast\", payload)\n\n    var today = context.get(\"today\") || undefined\n    if (today !== undefined){\n        payload = today    \n    \n        payload.data.temperature = today.data.temperature\n        payload.data.humidity = today.data.humidity\n        payload.data.condition = today.data.condition\n        payload.data.icon = today.data.icon\n    }\n    \n}   \n\nmsg.payload = payload\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 821,
        "y": 368,
        "wires": [
            [
                "953237a631658f4c",
                "76c76676578eb0d6",
                "4bb169283700cddd"
            ]
        ]
    },
    {
        "id": "7e161b7228d56964",
        "type": "inject",
        "z": "97567b6a1a314f9d",
        "name": "2 horas",
        "repeat": "7200",
        "crontab": "",
        "once": true,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 162,
        "y": 405.0000228881836,
        "wires": [
            [
                "a608e0d254046a2b"
            ]
        ]
    },
    {
        "id": "0417ab3e791aeadb",
        "type": "comment",
        "z": "97567b6a1a314f9d",
        "name": "enviar dados para myslq",
        "info": "",
        "x": 730,
        "y": 120,
        "wires": []
    },
    {
        "id": "033d4e865e48bee2",
        "type": "debug",
        "z": "97567b6a1a314f9d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 820,
        "y": 300,
        "wires": []
    },
    {
        "id": "ef49aae166d49852",
        "type": "debug",
        "z": "97567b6a1a314f9d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 1110,
        "y": 240,
        "wires": []
    },
    {
        "id": "46d7b3d0026e044f",
        "type": "debug",
        "z": "97567b6a1a314f9d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 690,
        "y": 180,
        "wires": []
    },
    {
        "id": "e94ed66b6bb5bfc4",
        "type": "debug",
        "z": "97567b6a1a314f9d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 710,
        "y": 420,
        "wires": []
    },
    {
        "id": "b2abc65a4fdd7b64",
        "type": "debug",
        "z": "97567b6a1a314f9d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 650,
        "y": 720,
        "wires": []
    },
    {
        "id": "4bb169283700cddd",
        "type": "debug",
        "z": "97567b6a1a314f9d",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1020,
        "y": 300,
        "wires": []
    },
    {
        "id": "1876684a0de0ce8b",
        "type": "ui_text",
        "z": "97567b6a1a314f9d",
        "group": "052ea0e19df0f38c",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Time",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 630,
        "y": 760,
        "wires": []
    },
    {
        "id": "953237a631658f4c",
        "type": "ui_template",
        "z": "97567b6a1a314f9d",
        "group": "71be18c61d6624e4",
        "name": "HTML Temperatura",
        "order": 1,
        "width": 4,
        "height": 7,
        "format": "<center>\n<table border=0 cellspacing=\"1\">\n    <TR>\n        <TD ALIGN='center' COLSPAN = \"3\">\n           <font size=\"3\">{{msg.payload.name}} - {{msg.payload.state}}</font>\n        </TD>\n    </TR>\n    <TR>\n        <TD ROWSPAN=\"2\">\n            <img style=\"display: block; margin-left: auto; margin-right: auto;\" src=/{{msg.payload.data.icon}}.png width=\"55\" height=\"55\">\n        </TD>\n\t\t<TH ROWSPAN=\"2\">    \n            <font size=\"7\">{{msg.payload.data.temperature}}°</font>\n        </TH>\n    \t<TD>\n            <font size=\"2\">&darr;{{msg.payload.data[0].temperature.min}}°&uarr;{{msg.payload.data[0].temperature.max}}°</font>    \n        </TD>\n \t</TR>\n    <TR>\n    \t<TH>\n            <font size=\"4\">{{msg.payload.data.humidity}}%</font>    \n        </TH>\n    </TR>\n    <TR>\n        <TD  align='center' COLSPAN = \"3\">\n            <font size=\"3\">{{msg.payload.data.condition}}</font>\n        </TD>\n    </TR>\n</table>\n\n <hr width=\"50%\"> \n\n<p align ='Center'><font size=\"3\"><B>Amanhã</B></font></p>\n<p align ='Center'><font size=\"3\">{{msg.payload.data[1].text_icon.text.pt}}</font></p>\n\n<table align ='Center' >\n    <tr>\n    \t<td style = \"padding: 3px\" COLSPAN=\"2\"><font size=\"4\">&#127785;</font>{{msg.payload.data[1].rain.probability}}% </td>\n    \t<td style = \"padding: 3px\" COLSPAN=\"2\"><img src=\"http://www.climatempo.com.br/dist/images/gota-azul.png\" width=\"10\" height=\"10\">{{msg.payload.data[1].rain.precipitation}}<font size=\"2\">mm</font></td>\n    </tr>\n    <tr>\n        <td style = \"padding: 3px\">Manha </td>\n        <td style = \"padding: 3px\"><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=/{{msg.payload.data[1].text_icon.icon.morning}}.png width=\"25\" height=\"25\"></td> \n         \n        <td style = \"padding: 3px\" align ='Center'>&darr;{{msg.payload.data[1].temperature.morning.min}}°</td>\n        <td style = \"padding: 3px\" align ='Center'>&uarr;{{msg.payload.data[1].temperature.morning.max}}°</td>\n\t</tr>\n    <tr>\n        <td style = \"padding: 3px\">Tarde</td>\n        <td style = \"padding: 3px\"><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=/{{msg.payload.data[1].text_icon.icon.afternoon}}.png width=\"25\" height=\"25\"></td> \n        <td style = \"padding: 3px\" align ='Center'>&darr;{{msg.payload.data[1].temperature.afternoon.min}}°</td>\n        <td style = \"padding: 3px\" align ='Center'>&uarr;{{msg.payload.data[1].temperature.afternoon.max}}°</td>\n    </tr>\n\t<tr>\n        <td style = \"padding: 3px\">Noite</td>\n        <td style = \"padding: 3px\"><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=/{{msg.payload.data[1].text_icon.icon.night}}.png width=\"25\" height=\"25\"></td> \n        <td style = \"padding: 3px\" align ='Center'>&darr;{{msg.payload.data[1].temperature.night.min}}°</td>\n        <td style = \"padding: 3px\" align ='Center'>&uarr;{{msg.payload.data[1].temperature.night.max}}°</td>\n    </tr>\n\n</table>\n\n<p align='Center'><font size=\"2\">Update {{msg.payload.update}}</font></p>\n</center>",
        "storeOutMessages": false,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1010,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "76c76676578eb0d6",
        "type": "ui_template",
        "z": "97567b6a1a314f9d",
        "group": "606728ffca968749",
        "name": "HTML Temperatura",
        "order": 18,
        "width": "6",
        "height": "7",
        "format": "<center>\n<table border=0 cellspacing=\"1\">\n    <TR>\n        <TD ALIGN='center' COLSPAN = \"3\">\n           <font size=\"3\">{{msg.payload.name}} - {{msg.payload.state}}</font>\n        </TD>\n    </TR>\n    <TR>\n        <TD ROWSPAN=\"2\">\n            <img style=\"display: block; margin-left: auto; margin-right: auto;\" src=/{{msg.payload.data.icon}}.png width=\"55\" height=\"55\">\n        </TD>\n\t\t<TH ROWSPAN=\"2\">    \n            <font size=\"7\">{{msg.payload.data.temperature}}°</font>\n        </TH>\n    \t<TD>\n            <font size=\"2\">&darr;{{msg.payload.data[0].temperature.min}}°&uarr;{{msg.payload.data[0].temperature.max}}°</font>    \n        </TD>\n \t</TR>\n    <TR>\n    \t<TH>\n            <font size=\"5\">{{msg.payload.data.humidity}}%</font>    \n        </TH>\n    </TR>\n    <TR>\n        <TD  align='center' COLSPAN = \"3\">\n            <font size=\"3\">{{msg.payload.data.condition}}</font>\n        </TD>\n    </TR>\n</table>\n\n <hr width=\"50%\"> \n\n<p align ='Center'><font size=\"3\"><B>Amanhã</B></font></p>\n<p align ='Center'><font size=\"3\">{{msg.payload.data[1].text_icon.text.pt}}</font></p>\n\n<table align ='Center' >\n    <tr>\n    \t<td style = \"padding: 3px\" COLSPAN=\"2\"><font size=\"4\">&#127785;</font>{{msg.payload.data[1].rain.probability}}% </td>\n    \t<td style = \"padding: 3px\" COLSPAN=\"2\"><img src=\"http://www.climatempo.com.br/dist/images/gota-azul.png\" width=\"10\" height=\"10\">{{msg.payload.data[1].rain.precipitation}}<font size=\"2\">mm</font></td>\n    </tr>\n    <tr>\n        <td style = \"padding: 3px\">Manha </td>\n        <td style = \"padding: 3px\"><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=/{{msg.payload.data[1].text_icon.icon.morning}}.png width=\"25\" height=\"25\"></td> \n         \n        <td style = \"padding: 3px\" align ='Center'>&darr;{{msg.payload.data[1].temperature.morning.min}}°</td>\n        <td style = \"padding: 3px\" align ='Center'>&uarr;{{msg.payload.data[1].temperature.morning.max}}°</td>\n\t</tr>\n    <tr>\n        <td style = \"padding: 3px\">Tarde</td>\n        <td style = \"padding: 3px\"><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=/{{msg.payload.data[1].text_icon.icon.afternoon}}.png width=\"25\" height=\"25\"></td> \n        <td style = \"padding: 3px\" align ='Center'>&darr;{{msg.payload.data[1].temperature.afternoon.min}}°</td>\n        <td style = \"padding: 3px\" align ='Center'>&uarr;{{msg.payload.data[1].temperature.afternoon.max}}°</td>\n    </tr>\n\t<tr>\n        <td style = \"padding: 3px\">Noite</td>\n        <td style = \"padding: 3px\"><img style=\"display: block; margin-left: auto; margin-right: auto;\" src=/{{msg.payload.data[1].text_icon.icon.night}}.png width=\"25\" height=\"25\"></td> \n        <td style = \"padding: 3px\" align ='Center'>&darr;{{msg.payload.data[1].temperature.night.min}}°</td>\n        <td style = \"padding: 3px\" align ='Center'>&uarr;{{msg.payload.data[1].temperature.night.max}}°</td>\n    </tr>\n\n</table>\n\n<p align='Center'><font size=\"2\">Update {{msg.payload.update}}</font></p>\n</center>",
        "storeOutMessages": false,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1010,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "1be029243090a549",
        "type": "http request",
        "z": "02232f44af3dd0a9",
        "name": "Post to Pushover",
        "method": "POST",
        "ret": "txt",
        "url": "https://api.pushover.net/1/messages.json",
        "tls": "",
        "x": 595.88330078125,
        "y": 89.88334655761719,
        "wires": [
            []
        ]
    },
    {
        "id": "e8f0beea2766e7d0",
        "type": "function",
        "z": "02232f44af3dd0a9",
        "name": "",
        "func": "msg.headers = {\n    \"content-type\": \"application/x-www-form-urlencoded\"\n};\nmsg.payload = { \n    user: 'USERKEYHERE',\n    token: 'ApplicationKeyHere',\n    message: 'MESSAGE HERE',\n    title: 'TITLE HERE',\n    priority: '-1'\n};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 401.88323974609375,
        "y": 89.54998779296875,
        "wires": [
            [
                "1be029243090a549"
            ]
        ]
    },
    {
        "id": "31f9ea2edac72425",
        "type": "http request",
        "z": "02232f44af3dd0a9",
        "name": "Post to Pushover",
        "method": "POST",
        "ret": "txt",
        "url": "https://api.pushover.net/1/messages.json",
        "tls": "",
        "x": 587.88330078125,
        "y": 163.8833465576172,
        "wires": [
            []
        ]
    },
    {
        "id": "09a2a7f9961f56ab",
        "type": "function",
        "z": "02232f44af3dd0a9",
        "name": "",
        "func": "msg.headers = {\n    \"content-type\": \"application/x-www-form-urlencoded\"\n};\nmsg.payload = { \n    user: 'USERKEYHERE',\n    token: 'ApplicationKeyHere',\n    message: 'MESSAGE HERE',\n    title: 'TITLE HERE',\n    priority: '-1'\n};\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 393.88323974609375,
        "y": 163.54998779296875,
        "wires": [
            [
                "31f9ea2edac72425"
            ]
        ]
    },
    {
        "id": "2a25840b92423407",
        "type": "inject",
        "z": "02232f44af3dd0a9",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "teste pushover",
        "payloadType": "str",
        "x": 234.76666259765625,
        "y": 375.5666961669922,
        "wires": [
            [
                "36007780e6aee0d9"
            ]
        ]
    },
    {
        "id": "9c38c8845e941dae",
        "type": "inject",
        "z": "02232f44af3dd0a9",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "2",
        "payloadType": "str",
        "x": 150,
        "y": 740,
        "wires": [
            [
                "8725513373da76b8"
            ]
        ]
    },
    {
        "id": "5a98195abeb7a352",
        "type": "inject",
        "z": "02232f44af3dd0a9",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "str",
        "x": 250,
        "y": 640,
        "wires": [
            [
                "b778b47a0a3fdf02",
                "5f0eccb946cd9e95"
            ]
        ]
    },
    {
        "id": "b778b47a0a3fdf02",
        "type": "function",
        "z": "02232f44af3dd0a9",
        "name": "calcular tempo de luz acessa",
        "func": "var now = new Date();   // current time\n\n\ndaynow = now.getDate()\n\n//msg.daynow = daynow\nmsg.timestamp = now\n\nif (msg.payload == 1)\n{\n    flow.set(\"teste_time\", now)\n} else {\n    msg.diferenca = (now - flow.get(\"teste_time\"))/1000/60\n\n}\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 540,
        "y": 680,
        "wires": [
            [
                "9190f1d603740115"
            ]
        ]
    },
    {
        "id": "9190f1d603740115",
        "type": "debug",
        "z": "02232f44af3dd0a9",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 810,
        "y": 680,
        "wires": []
    },
    {
        "id": "89da1cadb8a4ec1c",
        "type": "inject",
        "z": "02232f44af3dd0a9",
        "name": "Force",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 920,
        "wires": [
            [
                "b5078c4b78fda1b8"
            ]
        ]
    },
    {
        "id": "0cf43d8d473107fe",
        "type": "debug",
        "z": "02232f44af3dd0a9",
        "name": "output",
        "active": false,
        "console": "false",
        "complete": "true",
        "x": 842,
        "y": 848,
        "wires": []
    },
    {
        "id": "e75d774fed92e992",
        "type": "function",
        "z": "02232f44af3dd0a9",
        "name": "timeConvert",
        "func": "if ( !msg.timestamp ) msg.timestamp = Math.round(+new Date());\n\nvar dt = new Date(msg.timestamp);\nvar msg = {\n\t'month':\tdt.getMonth() + 1,\n\t'day':\t\tdt.getDate(),\n\t'year':\t\tdt.getFullYear(),\n\t'hours':\tdt.getHours(),\n\t'mins':\t\tdt.getMinutes(),\n\t'msecs':\tdt.getMilliseconds()\n}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 646,
        "y": 848,
        "wires": [
            [
                "0cf43d8d473107fe"
            ]
        ]
    },
    {
        "id": "b5078c4b78fda1b8",
        "type": "function",
        "z": "02232f44af3dd0a9",
        "name": "set timestamp",
        "func": "//msg.timestamp=1376763133 * 1000;\n\n\n/////////////////////////////////////////////\n\n////////////////////////////////////////////\n//                      d  m SMMM\nmsg.timestamp   =   1582805105000\nmsg.timestamp2  =   1582917105000\n/*                   |\nmsg.timestamp   =   1582805105000\nmsg.timestamp2  =   1582916165000\n*/\nvar dt = new Date(msg.timestamp);\nvar dt2 = new Date(msg.timestamp2);\n\nmouthnow = dt.getMonth() + 1\nmouthnow2 = dt2.getMonth() + 1\n\nmsg.mouthnow = mouthnow\nmsg.mouthnow2 = mouthnow2\n\ndaynow = dt.getDate()\ndaynow2 = dt2.getDate()\n\nhournow = dt.getHours()\nhournow2 = dt2.getHours()\nmsg.hournow2 = hournow2\n\nminnow = dt.getMinutes()\nminnow2 = dt2.getMinutes()\nmsg.minnow2 = minnow2\n\nmsg.ligado_total_0 = 0\nmsg.ligado_total_1 =  Math.round((dt2 - dt)/1000/60)\n\nnode.warn(\"mouthnow = \\t\" + mouthnow + \"\\mouthnow2 = \\t\" + mouthnow2);\n\nif ((daynow2 > daynow) || (mouthnow2 > mouthnow)){\n\n//    msg.ligado_total_0 = (dt2 - dt)/1000/60 // - (hournow2 * 60 + minnow2)\n    msg.ligado_total_1 = Math.round((dt2 - dt)/1000/60 - (hournow2 * 60 + minnow2))\n    msg.ligado_total_2 = Math.round((hournow2 * 60) + minnow2)\n    \n}\nreturn msg;\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 434,
        "y": 920,
        "wires": [
            [
                "e75d774fed92e992",
                "a22bd7fe54585989"
            ]
        ]
    },
    {
        "id": "456af19cdb1c52f8",
        "type": "inject",
        "z": "02232f44af3dd0a9",
        "name": "Force",
        "repeat": "",
        "crontab": "",
        "once": false,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 250,
        "y": 848,
        "wires": [
            [
                "e75d774fed92e992"
            ]
        ]
    },
    {
        "id": "a22bd7fe54585989",
        "type": "debug",
        "z": "02232f44af3dd0a9",
        "name": "output",
        "active": true,
        "console": "false",
        "complete": "true",
        "x": 650,
        "y": 920,
        "wires": []
    },
    {
        "id": "5f0eccb946cd9e95",
        "type": "debug",
        "z": "02232f44af3dd0a9",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 490,
        "y": 620,
        "wires": []
    },
    {
        "id": "8725513373da76b8",
        "type": "delay",
        "z": "02232f44af3dd0a9",
        "name": "",
        "pauseType": "delay",
        "timeout": "2",
        "timeoutUnits": "minutes",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "outputs": 1,
        "x": 320,
        "y": 740,
        "wires": [
            [
                "b778b47a0a3fdf02"
            ]
        ]
    },
    {
        "id": "1d2bd96f4e07eb62",
        "type": "http request",
        "z": "02232f44af3dd0a9",
        "name": "",
        "method": "POST",
        "ret": "txt",
        "paytoqs": false,
        "url": "http://localhost/post-esp-data.php",
        "tls": "",
        "proxy": "",
        "authType": "",
        "x": 550,
        "y": 1220,
        "wires": [
            [
                "3301199b01e530ea",
                "a716c25d8b67828f"
            ]
        ]
    },
    {
        "id": "001db1b1810f089a",
        "type": "inject",
        "z": "02232f44af3dd0a9",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 240,
        "y": 1220,
        "wires": [
            [
                "e5c25ac0e4bae3e4"
            ]
        ]
    },
    {
        "id": "e5c25ac0e4bae3e4",
        "type": "function",
        "z": "02232f44af3dd0a9",
        "name": "",
        "func": "msg.headers = {'content-type':'application/x-www-form-urlencoded'};\n//msg.payload = { api_key: \"api_key_value\", sensor: \"luz\", location:\"telefonica\", value1: \"11\", value2: \"22\", value3: \"33\" };\nmsg.payload = { api_key: \"api_key_Clima\", sensor: \"luz\", location:\"telefonica\", value1: \"11\", value2: \"22\", value3: \"33\" };\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 390,
        "y": 1220,
        "wires": [
            [
                "1d2bd96f4e07eb62"
            ]
        ]
    },
    {
        "id": "3301199b01e530ea",
        "type": "debug",
        "z": "02232f44af3dd0a9",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 730,
        "y": 1220,
        "wires": []
    },
    {
        "id": "a716c25d8b67828f",
        "type": "debug",
        "z": "02232f44af3dd0a9",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 530,
        "y": 1160,
        "wires": []
    },
    {
        "id": "6172cafc3f5441a5",
        "type": "function",
        "z": "02232f44af3dd0a9",
        "name": "",
        "func": "var myString = 'Hello World. How are you doing?';\nvar splits = myString.split(' ');\n\nmsg.splits = splits\n\nreturn msg;\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 490,
        "y": 1400,
        "wires": [
            [
                "373c6c25293eb4b7"
            ]
        ]
    },
    {
        "id": "373c6c25293eb4b7",
        "type": "debug",
        "z": "02232f44af3dd0a9",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 650,
        "y": 1400,
        "wires": []
    },
    {
        "id": "f11a25094e07ac1c",
        "type": "inject",
        "z": "02232f44af3dd0a9",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "\"teste 1234, vai funcionar\"",
        "payloadType": "str",
        "x": 310,
        "y": 1400,
        "wires": [
            [
                "6172cafc3f5441a5"
            ]
        ]
    },
    {
        "id": "cb03774f48f7ec38",
        "type": "debug",
        "z": "02232f44af3dd0a9",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "tetra",
        "targetType": "msg",
        "x": 940,
        "y": 1700,
        "wires": []
    },
    {
        "id": "5386b97c4ae2cd8e",
        "type": "mqtt in",
        "z": "02232f44af3dd0a9",
        "name": "",
        "topic": "newdevice/atuador9",
        "qos": "2",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 430,
        "y": 1740,
        "wires": [
            [
                "3d9436cca06e38d2",
                "97b0a27ed8a76758"
            ]
        ]
    },
    {
        "id": "3d9436cca06e38d2",
        "type": "function",
        "z": "02232f44af3dd0a9",
        "name": "",
        "func": "if(msg.payload < 50){\n    // msg.payload = \"aberta\"\n    msg.tetra = \"Aberta\"\n    msg.trinco = \"Aberta\"\n} else if(msg.payload < 600){\n    // msg.payload = \"porta\"\n    msg.tetra = \"Aberta\"\n    msg.trinco = \"Trancada\"\n} else if(msg.payload < 900){\n    // msg.payload = \"tetra\"\n    msg.tetra = \"Trancada\"\n    msg.trinco = \"Aberta\"\n} else {\n    // msg.payload = \"ambas\"\n    msg.tetra = \"Trancada\"\n    msg.trinco = \"Trancada\"\n}\nreturn msg;\n\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 730,
        "y": 1740,
        "wires": [
            [
                "cb03774f48f7ec38",
                "0fb50332aa650d96",
                "61f67b0e9cc6dd15",
                "a4bd1430dc4eab02"
            ]
        ]
    },
    {
        "id": "14749da007b5b2b1",
        "type": "inject",
        "z": "02232f44af3dd0a9",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "846",
        "payloadType": "num",
        "x": 470,
        "y": 1660,
        "wires": [
            [
                "3d9436cca06e38d2"
            ]
        ]
    },
    {
        "id": "a4bd1430dc4eab02",
        "type": "debug",
        "z": "02232f44af3dd0a9",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "trinco",
        "targetType": "msg",
        "x": 950,
        "y": 1740,
        "wires": []
    },
    {
        "id": "97b0a27ed8a76758",
        "type": "debug",
        "z": "02232f44af3dd0a9",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 1660,
        "wires": []
    },
    {
        "id": "42df6766450521a8",
        "type": "mqtt in",
        "z": "02232f44af3dd0a9",
        "name": "",
        "topic": "$SYS/brokers/emqx@127.0.0.1/version",
        "qos": "2",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 470,
        "y": 2000,
        "wires": [
            [
                "a778e5cd316deb73"
            ]
        ]
    },
    {
        "id": "a778e5cd316deb73",
        "type": "debug",
        "z": "02232f44af3dd0a9",
        "name": "teste_brokers",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 800,
        "y": 2000,
        "wires": []
    },
    {
        "id": "4572b4a4d4249f96",
        "type": "mqtt in",
        "z": "02232f44af3dd0a9",
        "name": "",
        "topic": "$SYS/brokers/emqx@127.0.0.1/#",
        "qos": "2",
        "datatype": "auto",
        "broker": "25167bbc.e1295c",
        "inputs": 0,
        "x": 430,
        "y": 2100,
        "wires": [
            [
                "c56f2e3e61fbba21"
            ]
        ]
    },
    {
        "id": "c56f2e3e61fbba21",
        "type": "debug",
        "z": "02232f44af3dd0a9",
        "name": "teste_brokers2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 700,
        "y": 2100,
        "wires": []
    },
    {
        "id": "0fb50332aa650d96",
        "type": "ui_text",
        "z": "02232f44af3dd0a9",
        "group": "7ac0c575.b52f2c",
        "order": 10,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "   <B>   Tetra</B>",
        "format": "{{msg.tetra}}",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 840,
        "y": 1840,
        "wires": []
    },
    {
        "id": "61f67b0e9cc6dd15",
        "type": "ui_text",
        "z": "02232f44af3dd0a9",
        "group": "7ac0c575.b52f2c",
        "order": 11,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "Trinco",
        "format": "{{msg.trinco}}",
        "layout": "col-center",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": "",
        "color": "#000000",
        "x": 810,
        "y": 1880,
        "wires": []
    },
    {
        "id": "36007780e6aee0d9",
        "type": "pushover",
        "z": "02232f44af3dd0a9",
        "name": "nome",
        "device": "",
        "title": "teste",
        "priority": 0,
        "sound": "",
        "url": "url",
        "url_title": "url title",
        "html": false,
        "x": 467.2666320800781,
        "y": 374.30006408691406,
        "wires": []
    },
    {
        "id": "9c2e85767dc2a00c",
        "type": "inject",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 200,
        "y": 120,
        "wires": [
            [
                "79bc1b657e139fd8"
            ]
        ]
    },
    {
        "id": "79bc1b657e139fd8",
        "type": "function",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "func": "msg.topic = \"SELECT * FROM Clima where localidade in ('quarto') ORDER BY id DESC LIMIT 10\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 380,
        "y": 100,
        "wires": [
            [
                "6a841f2521bb73e5"
            ]
        ]
    },
    {
        "id": "c8645922c64a1207",
        "type": "debug",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 610,
        "y": 100,
        "wires": []
    },
    {
        "id": "624d6433d7158d16",
        "type": "function",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "func": "msg.topic=\"'temperatura'\"\n\nvar msgU = { payload: msg.payload[0].umidade, topic: 'umidade'};\nvar msgT = { payload:  msg.payload[0].temperatura, topic: 'temperatura'};\n\nreturn [msgU, msgT]\n\n//2020-04-07T15:46:12.000Z\n\n//moment().format(\"dddd, MMMM Do YYYY, H:mm:ss\")",
        "outputs": 2,
        "noerr": 0,
        "x": 620,
        "y": 160,
        "wires": [
            [
                "5743939f25e1c7f2",
                "f8719247ff581f01"
            ],
            [
                "f8719247ff581f01",
                "5743939f25e1c7f2"
            ]
        ]
    },
    {
        "id": "5743939f25e1c7f2",
        "type": "debug",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 860,
        "y": 220,
        "wires": []
    },
    {
        "id": "3283dbd8b6ecf8cf",
        "type": "inject",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[]",
        "payloadType": "json",
        "x": 640,
        "y": 220,
        "wires": [
            [
                "f8719247ff581f01"
            ]
        ]
    },
    {
        "id": "7b1b301a4c5178c5",
        "type": "inject",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 460,
        "wires": [
            [
                "ca97d516e80c53c3"
            ]
        ]
    },
    {
        "id": "ca97d516e80c53c3",
        "type": "function",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "func": "// msg.topic = \"SELECT * FROM Clima where localidade in ('quarto') ORDER BY id DESC LIMIT 1400\"\nif(msg.topic == \"quantidade\"){\n    context.set(\"c_quantidade\", msg.payload)\n}\n\nif(msg.topic == \"periodo\"){\n    context.set(\"c_periodo\", msg.payload)  \n}\nquantidade = (context.get(\"c_quantidade\") || 1)\nperiodo = (context.get(\"c_periodo\") || \"day\")\n\nselect = \nmsg.topic = \"SELECT * FROM Clima where localidade in ('quarto') and time  >= DATE_SUB(NOW(),INTERVAL \" + quantidade + \" \" +  periodo +\") ORDER BY id\"\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 290,
        "y": 460,
        "wires": [
            [
                "af533934bd41b9e5",
                "5b10dc9ae7da83a9"
            ]
        ]
    },
    {
        "id": "9a2c95c68de9f479",
        "type": "debug",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 450,
        "y": 400,
        "wires": []
    },
    {
        "id": "de5ed9bee5ae4bf0",
        "type": "inject",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[]",
        "payloadType": "json",
        "x": 570,
        "y": 540,
        "wires": [
            [
                "d19666d4565889d5"
            ]
        ]
    },
    {
        "id": "d70277cee87817e2",
        "type": "function",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "func": "/////////// converdter temperatura em y e time am x\nvar json = msg.payload\n  \njson = JSON.parse(JSON.stringify(json).split('\"temperatura\":').join('\"y\":'));\njson = JSON.parse(JSON.stringify(json).split('\"time\":').join('\"x\":'));\n\n//////////////// fim \nmsgT = json\n\n\n/////////// converdter temperatura em y e time am x\njson = msg.payload\n  \njson = JSON.parse(JSON.stringify(json).split('\"umidade\":').join('\"y\":'));\njson = JSON.parse(JSON.stringify(json).split('\"time\":').join('\"x\":'));\n\n//////////////// fim\nmsgU = json\n\n\nmsg.payload = [\n    {\n\t\t\"series\":[\n\t\t\t\t\"Temperatura\", \"Umidade\"\n\t\t],\n\t\t\"data\":[ \n\t\t\tmsgT, msgU\n\t\t]\n    }\n]\n\n\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 590,
        "y": 460,
        "wires": [
            [
                "d19666d4565889d5"
            ]
        ]
    },
    {
        "id": "d4ca2efd618cb376",
        "type": "debug",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 390,
        "y": 280,
        "wires": []
    },
    {
        "id": "5b10dc9ae7da83a9",
        "type": "debug",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 470,
        "y": 340,
        "wires": []
    },
    {
        "id": "877434b710f6d9bc",
        "type": "inject",
        "z": "1a43f8e8e0dc6e41",
        "name": "1D",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "300",
        "crontab": "",
        "once": false,
        "onceDelay": "10",
        "topic": "",
        "payload": "{\"quantidade\":1,\"periodo\":\"day\"}",
        "payloadType": "json",
        "x": 130,
        "y": 780,
        "wires": [
            [
                "252656c24d611a16",
                "5979f5b33d76c428",
                "ac1b162bbc069f2d",
                "8be643a783796d7b"
            ]
        ]
    },
    {
        "id": "252656c24d611a16",
        "type": "function",
        "z": "1a43f8e8e0dc6e41",
        "name": "quarto",
        "func": "quantidade = msg.payload.quantidade\nperiodo = msg.payload.periodo\n// quantidade = 1\n// periodo = \"day\"\n\nmsg.location = \"quarto\"\n\nmsg.topic = \"SELECT * FROM Clima WHERE localidade in ('\"+msg.location+\"') and time  >= DATE_SUB(NOW(),INTERVAL \" + quantidade + \" \" +  periodo +\") ORDER BY id\"\n\nreturn msg;\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 310,
        "y": 780,
        "wires": [
            [
                "fb0abf3e47842fbc",
                "52f357dfc299cfc7"
            ]
        ]
    },
    {
        "id": "eef573226f0ac64e",
        "type": "function",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "func": "/////////// converdter temperatura em y e time am x\nvar json = msg.payload\n  \njson = JSON.parse(JSON.stringify(json).split('\"temperatura\":').join('\"y\":'));\njson = JSON.parse(JSON.stringify(json).split('\"time\":').join('\"x\":'));\n//////////////// fim \n\n\nif(msg.location == \"quarto\"){\n    context.set(\"c_quarto\", json)\n} else if(msg.location == \"teste\"){\n    context.set(\"c_teste\", json)\n} else if(msg.location == \"externo\"){\n    context.set(\"c_externo\", json)\n} else if(msg.location == \"quartom\"){\n    context.set(\"c_quartom\", json)\n} \n\nc_quarto = context.get(\"c_quarto\")\nc_teste = context.get(\"c_teste\")\nc_externo = context.get(\"c_externo\")\nc_quartom = context.get(\"c_quartom\")\n\n\nmsg.payload = [\n    {\n\t\t\"series\":[\n\t\t\t\t\"Quarto\", \"Teste\", \"Externo\", \"QuartoM\"\n\t\t],\n\t\t\"data\":[ \n\t\t\tc_quarto, c_teste, c_externo, c_quartom\n\t\t]\n    }\n]\n\n\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 710,
        "y": 780,
        "wires": [
            [
                "7182d4491c2f0e44",
                "8b5fde86da975f28"
            ]
        ]
    },
    {
        "id": "5979f5b33d76c428",
        "type": "function",
        "z": "1a43f8e8e0dc6e41",
        "name": "teste",
        "func": "quantidade = msg.payload.quantidade\nperiodo = msg.payload.periodo\n\nmsg.location = \"teste\"\n\nmsg.topic = \"SELECT * FROM Clima WHERE localidade in ('\"+msg.location+\"') and time  >= DATE_SUB(NOW(),INTERVAL \" + quantidade + \" \" +  periodo +\") ORDER BY id\"\n\nreturn msg;\n\n ",
        "outputs": 1,
        "noerr": 0,
        "x": 310,
        "y": 820,
        "wires": [
            [
                "fb0abf3e47842fbc"
            ]
        ]
    },
    {
        "id": "ac1b162bbc069f2d",
        "type": "function",
        "z": "1a43f8e8e0dc6e41",
        "name": "externo",
        "func": "quantidade = msg.payload.quantidade\nperiodo = msg.payload.periodo\n\nmsg.location = \"externo\"\n\nmsg.topic = \"SELECT * FROM Clima WHERE localidade in ('\"+msg.location+\"') and time  >= DATE_SUB(NOW(),INTERVAL \" + quantidade + \" \" +  periodo +\") ORDER BY id\"\n\nreturn msg;\n\n ",
        "outputs": 1,
        "noerr": 0,
        "x": 320,
        "y": 860,
        "wires": [
            [
                "fb0abf3e47842fbc"
            ]
        ]
    },
    {
        "id": "83c0571ebb4f959f",
        "type": "debug",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 590,
        "y": 680,
        "wires": []
    },
    {
        "id": "8be643a783796d7b",
        "type": "function",
        "z": "1a43f8e8e0dc6e41",
        "name": "quartom",
        "func": "quantidade = msg.payload.quantidade\nperiodo = msg.payload.periodo\n\nmsg.location = \"quartom\"\n\nmsg.topic = \"SELECT * FROM Clima WHERE localidade in ('\"+msg.location+\"') and time  >= DATE_SUB(NOW(),INTERVAL \" + quantidade + \" \" +  periodo +\") ORDER BY id\"\n\nreturn msg;\n\n ",
        "outputs": 1,
        "noerr": 0,
        "x": 320,
        "y": 900,
        "wires": [
            [
                "fb0abf3e47842fbc"
            ]
        ]
    },
    {
        "id": "e8e160975f01260e",
        "type": "function",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "func": "/////////// converdter temperatura em y e time am x\nvar json = msg.payload\n  \njson = JSON.parse(JSON.stringify(json).split('\"umidade\":').join('\"y\":'));\njson = JSON.parse(JSON.stringify(json).split('\"time\":').join('\"x\":'));\n//////////////// fim \n\n\nif(msg.location == \"quarto\"){\n    context.set(\"c_quarto\", json)\n} else if(msg.location == \"teste\"){\n    context.set(\"c_teste\", json)\n} else if(msg.location == \"externo\"){\n    context.set(\"c_externo\", json)\n} else if(msg.location == \"quartom\"){\n    context.set(\"c_quartom\", json)\n} \n\nc_quarto = context.get(\"c_quarto\")\nc_teste = context.get(\"c_teste\")\nc_externo = context.get(\"c_externo\")\nc_quartom = context.get(\"c_quartom\")\n\n\nmsg.payload = [\n    {\n\t\t\"series\":[\n\t\t\t\t\"Quarto\", \"Teste\", \"Externo\", \"QuartoM\"\n\t\t],\n\t\t\"data\":[ \n\t\t\tc_quarto, c_teste, c_externo, c_quartom\n\t\t]\n    }\n]\n\n\nreturn msg\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 710,
        "y": 840,
        "wires": [
            [
                "8bb572833bb45756",
                "033bccf99617e926"
            ]
        ]
    },
    {
        "id": "8bb572833bb45756",
        "type": "debug",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 950,
        "y": 920,
        "wires": []
    },
    {
        "id": "aab38c4a81caf06d",
        "type": "inject",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "[]",
        "payloadType": "json",
        "x": 710,
        "y": 940,
        "wires": [
            [
                "033bccf99617e926"
            ]
        ]
    },
    {
        "id": "442879904581c44e",
        "type": "function",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "func": "/////////// converdter temperatura em y e time am x\nvar json = msg.payload\n  \njson = JSON.parse(JSON.stringify(json).split('\"temperatura\":').join('\"y\":'));\njson = JSON.parse(JSON.stringify(json).split('\"time\":').join('\"x\":'));\n\n//////////////// fim \nmsgT = json\n\n\n/////////// converdter temperatura em y e time am x\njson = msg.payload\n  \njson = JSON.parse(JSON.stringify(json).split('\"umidade\":').join('\"y\":'));\njson = JSON.parse(JSON.stringify(json).split('\"time\":').join('\"x\":'));\n\n//////////////// fim\nmsgU = json\n\n\nmsg.payload = [\n    {\n\t\t\"series\":[\n\t\t\t\t\"Temperatura\", \"Umidade\"\n\t\t],\n\t\t\"data\":[ \n\t\t\tmsgT, msgU\n\t\t]\n    }\n]\n\nif(msg.location == \"quarto\"){\n    return[msg, null, null]\n} else if(msg.location ==\"proto\"){\n    return[null, msg, null]\n} else if(msg.location == \"quartom\"){\n    return[null, null, msg]\n}\n\n",
        "outputs": 3,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "x": 710,
        "y": 720,
        "wires": [
            [
                "12b3bb5517a6ccd3",
                "c88dba875d40bce9"
            ],
            [
                "17e34b78e3af558b"
            ],
            [
                "6574644d866a6924"
            ]
        ]
    },
    {
        "id": "c88dba875d40bce9",
        "type": "debug",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 910,
        "y": 560,
        "wires": []
    },
    {
        "id": "52f357dfc299cfc7",
        "type": "debug",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "x": 450,
        "y": 640,
        "wires": []
    },
    {
        "id": "8b5fde86da975f28",
        "type": "debug",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1150,
        "y": 880,
        "wires": []
    },
    {
        "id": "efc7a06a8911634a",
        "type": "ui_dropdown",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "label": "",
        "tooltip": "",
        "place": "Select option",
        "group": "f08db2f85f4c80f1",
        "order": 4,
        "width": 3,
        "height": 1,
        "passthru": false,
        "multiple": false,
        "options": [
            {
                "label": "hora",
                "value": "hour",
                "type": "str"
            },
            {
                "label": "dia",
                "value": "day",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "periodo",
        "topicType": "str",
        "className": "",
        "x": 220,
        "y": 300,
        "wires": [
            [
                "d4ca2efd618cb376",
                "ca97d516e80c53c3"
            ]
        ]
    },
    {
        "id": "aab069e276d658b5",
        "type": "ui_numeric",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "label": "numeric",
        "tooltip": "",
        "group": "f08db2f85f4c80f1",
        "order": 2,
        "width": 4,
        "height": 1,
        "wrap": false,
        "passthru": true,
        "topic": "quantidade",
        "topicType": "str",
        "format": "{{value}}",
        "min": 0,
        "max": "30",
        "step": 1,
        "className": "",
        "x": 220,
        "y": 240,
        "wires": [
            [
                "ca97d516e80c53c3"
            ]
        ]
    },
    {
        "id": "f8719247ff581f01",
        "type": "ui_chart",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "group": "f08db2f85f4c80f1",
        "order": 1,
        "width": 8,
        "height": 8,
        "label": "QuartoSQL2",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#d62727",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 860,
        "y": 160,
        "wires": [
            []
        ]
    },
    {
        "id": "d19666d4565889d5",
        "type": "ui_chart",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "group": "f08db2f85f4c80f1",
        "order": 6,
        "width": 0,
        "height": 0,
        "label": "testesql2",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "100",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#cb0707",
            "#3f62da",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 800,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "7182d4491c2f0e44",
        "type": "ui_chart",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "group": "83f6e9aef0f55d04",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "Temperatura 1DSQL",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#d62727",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 900,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "033bccf99617e926",
        "type": "ui_chart",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "group": "83f6e9aef0f55d04",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Umidade 1DSQL",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#d62727",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 890,
        "y": 840,
        "wires": [
            []
        ]
    },
    {
        "id": "6574644d866a6924",
        "type": "ui_chart",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "group": "83f6e9aef0f55d04",
        "order": 5,
        "width": 0,
        "height": 0,
        "label": "QuartoM",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#d62728",
            "#1f77b4",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 940,
        "y": 740,
        "wires": [
            []
        ]
    },
    {
        "id": "17e34b78e3af558b",
        "type": "ui_chart",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "group": "83f6e9aef0f55d04",
        "order": 4,
        "width": 0,
        "height": 0,
        "label": "Proto",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#d62728",
            "#1f77b4",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 950,
        "y": 700,
        "wires": [
            []
        ]
    },
    {
        "id": "12b3bb5517a6ccd3",
        "type": "ui_chart",
        "z": "1a43f8e8e0dc6e41",
        "name": "",
        "group": "83f6e9aef0f55d04",
        "order": 3,
        "width": 0,
        "height": 0,
        "label": "Quarto",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "1",
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#d62728",
            "#1f77b4",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 940,
        "y": 660,
        "wires": [
            []
        ]
    },
    {
        "id": "6a841f2521bb73e5",
        "type": "mysql",
        "z": "1a43f8e8e0dc6e41",
        "mydb": "1da3829898f3f838",
        "name": "Clima",
        "x": 430,
        "y": 160,
        "wires": [
            [
                "c8645922c64a1207",
                "624d6433d7158d16"
            ]
        ]
    },
    {
        "id": "af533934bd41b9e5",
        "type": "mysql",
        "z": "1a43f8e8e0dc6e41",
        "mydb": "1da3829898f3f838",
        "name": "Clima",
        "x": 440,
        "y": 500,
        "wires": [
            [
                "9a2c95c68de9f479",
                "d70277cee87817e2"
            ]
        ]
    },
    {
        "id": "fb0abf3e47842fbc",
        "type": "mysql",
        "z": "1a43f8e8e0dc6e41",
        "mydb": "f303a3fc5e3847e2",
        "name": "Clima",
        "x": 510,
        "y": 780,
        "wires": [
            [
                "eef573226f0ac64e",
                "83c0571ebb4f959f",
                "e8e160975f01260e",
                "442879904581c44e"
            ]
        ]
    },
    {
        "id": "c029e5f384422a3f",
        "type": "ui_template",
        "z": "a7f464e9ddea0767",
        "group": "f21b56b6783c0b27",
        "name": "Quarto",
        "order": 1,
        "width": 0,
        "height": 0,
        "format": "<style>\ndiv.a {\n text-align: left;\n  margin: center; \n  color:#0eb8c0;\n  font-size: 20px;\n}\n</style>\n<div class=\"a\">\nQuarto\n</div>\n\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 530,
        "y": 100,
        "wires": [
            []
        ]
    },
    {
        "id": "8e8b0c417a8bb2a0",
        "type": "ui_template",
        "z": "a7f464e9ddea0767",
        "group": "f21b56b6783c0b27",
        "name": "Quarto Manu",
        "order": 7,
        "width": 0,
        "height": 0,
        "format": "<style>\ndiv.a {\n/*  text-align: right;\n  margin: center; */ \n  color:#0eb8c0;\n  font-size: 20px;\n}\n</style>\n<div class=\"a\">\nQuarto Manu\n</div>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 510,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "81c635fa9c27d850",
        "type": "link in",
        "z": "e4e205d244e90189",
        "name": "link in 1",
        "links": [
            "507431d9184dc5a4"
        ],
        "x": 145,
        "y": 180,
        "wires": [
            [
                "4b0a93de7cba50cd",
                "332bbea3ac644580",
                "8b3edde940f297fb",
                "f0d46dee4d044137"
            ]
        ]
    },
    {
        "id": "4b0a93de7cba50cd",
        "type": "ui_chart",
        "z": "e4e205d244e90189",
        "name": "",
        "group": "70469c61fe7f7afb",
        "order": 0,
        "width": 0,
        "height": 0,
        "label": "Temperatura Hora",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 450,
        "y": 140,
        "wires": [
            []
        ]
    },
    {
        "id": "332bbea3ac644580",
        "type": "ui_chart",
        "z": "e4e205d244e90189",
        "name": "",
        "group": "70469c61fe7f7afb",
        "order": 1,
        "width": 0,
        "height": 0,
        "label": "Temperatura Dia",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "86400",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 450,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "8b3edde940f297fb",
        "type": "ui_chart",
        "z": "e4e205d244e90189",
        "name": "",
        "group": "70469c61fe7f7afb",
        "order": 2,
        "width": 0,
        "height": 0,
        "label": "Temperatura Mes",
        "chartType": "line",
        "legend": "false",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "4",
        "removeOlderPoints": "",
        "removeOlderUnit": "604800",
        "cutout": 0,
        "useOneColor": false,
        "useUTC": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "outputs": 1,
        "useDifferentColor": false,
        "className": "",
        "x": 450,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "f0d46dee4d044137",
        "type": "debug",
        "z": "e4e205d244e90189",
        "name": "debug 2",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 360,
        "y": 100,
        "wires": []
    },
    {
        "id": "0db2c173584794e7",
        "type": "global-config",
        "env": [],
        "modules": {
            "node-red-contrib-mdashboard": "2.19.4-beta",
            "node-red-dashboard": "3.6.6",
            "node-red-contrib-googlehome": "0.0.15",
            "node-red-node-mysql": "2.0.0",
            "node-red-node-pushover": "0.3.0"
        }
    }
]
